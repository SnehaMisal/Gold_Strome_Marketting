"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[13],{2013:(le,w,u)=>{u.r(w),u.d(w,{CeoModule:()=>on});var f=u(6895),E=u(8252),e=u(4650),h=u(2340),r=u(529);let y=(()=>{class a{constructor(t){this.http=t}getCEODashbaord(){return this.http.get(h.N.apiUrl+"getDashboardCEO")}createGM(t){return this.http.post(h.N.apiUrl+"create_Ceo_GM",t)}getGMList(){return this.http.get(h.N.apiUrl+"getAll_Ceo_GM")}updateGM(t,n){return this.http.put(h.N.apiUrl+`update_Ceo_GM/${t}`,n)}updateGMStatus(t){return this.http.put(h.N.apiUrl+`changeStatusGM/${t}`,null)}getSMList(){return this.http.get(h.N.apiUrl+"getSMUnderParticularCEO")}createSM(t){return this.http.post(h.N.apiUrl+"createSM",t)}updateSM(t,n){return this.http.put(h.N.apiUrl+`updateSM/${t}`,n)}updateSMStatus(t){return this.http.put(h.N.apiUrl+`changeStatusSM/${t}`,null)}getDSMList(){return this.http.get(h.N.apiUrl+"getDSMUnderParticularCEO")}createDSM(t){return this.http.post(h.N.apiUrl+"createDSM",t)}updateDSM(t,n){return this.http.put(h.N.apiUrl+`updateDSM/${t}`,n)}updateDSMStatus(t){return this.http.put(h.N.apiUrl+`changeStatusDSM/${t}`,null)}getSAList(){return this.http.get(h.N.apiUrl+"getSAUnderParticularCEO")}createSA(t){return this.http.post(h.N.apiUrl+"createSA",t)}updateSA(t,n){return this.http.put(h.N.apiUrl+`updateSA/${t}`,n)}updateSAStatus(t){return this.http.put(h.N.apiUrl+`changeStatusSA/${t}`,null)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(r.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var k=u(1089);let L=(()=>{class a{constructor(t){this.service=t}ngOnInit(){this.getCEODashbaord()}getCEODashbaord(){this.service.getCEODashbaord().subscribe({next:t=>{console.log("res",t),this.totalGM=t.GM,this.totalSM=t.SM,this.totalDSM=t.DSM,this.totalSA=t.SA,this.totalEmployees=t.totalEmployees},error:t=>{alert(t)}})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(y))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-dashboard"]],decls:295,vars:23,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","col-lg-12"],[1,"row","row-cols-1"],[1,"col-lg-3","col-md-6"],[1,"card","border-bottom","border-4","border-0","border-primary"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center"],[1,"bg-soft-info","rounded","p-3"],["width","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"icon-20"],["d","M9.34933 14.8577C5.38553 14.8577 2 15.47 2 17.9173C2 20.3665 5.364 20.9999 9.34933 20.9999C13.3131 20.9999 16.6987 20.3876 16.6987 17.9403C16.6987 15.4911 13.3347 14.8577 9.34933 14.8577Z","fill","currentColor"],["opacity","0.4","d","M9.34935 12.5248C12.049 12.5248 14.2124 10.4062 14.2124 7.76241C14.2124 5.11865 12.049 3 9.34935 3C6.65072 3 4.48633 5.11865 4.48633 7.76241C4.48633 10.4062 6.65072 12.5248 9.34935 12.5248Z","fill","currentColor"],["opacity","0.4","d","M16.1733 7.84873C16.1733 9.19505 15.7604 10.4513 15.0363 11.4948C14.961 11.6021 15.0275 11.7468 15.1586 11.7698C15.3406 11.7995 15.5275 11.8177 15.7183 11.8216C17.6165 11.8704 19.3201 10.6736 19.7907 8.87116C20.4884 6.19674 18.4414 3.79541 15.8338 3.79541C15.551 3.79541 15.2799 3.82416 15.0157 3.87686C14.9795 3.88453 14.9404 3.90177 14.9208 3.93244C14.8954 3.97172 14.914 4.02251 14.9394 4.05605C15.7232 5.13214 16.1733 6.44205 16.1733 7.84873Z","fill","currentColor"],["d","M21.779 15.1693C21.4316 14.4439 20.593 13.9465 19.3171 13.7022C18.7153 13.5585 17.0852 13.3544 15.5695 13.3831C15.547 13.386 15.5343 13.4013 15.5324 13.4109C15.5294 13.4262 15.5363 13.4492 15.5656 13.4655C16.2662 13.8047 18.9737 15.2804 18.6332 18.3927C18.6185 18.5288 18.729 18.6438 18.867 18.6246C19.5333 18.5317 21.2476 18.1704 21.779 17.0474C22.0735 16.4533 22.0735 15.7634 21.779 15.1693Z","fill","currentColor"],[1,"text-end"],[1,"counter",3,"countUp"],["routerLink","/ceo/manage_gm"],[1,"bg-soft-primary","rounded","p-3"],["d","M11.997 15.1746C7.684 15.1746 4 15.8546 4 18.5746C4 21.2956 7.661 21.9996 11.997 21.9996C16.31 21.9996 19.994 21.3206 19.994 18.5996C19.994 15.8786 16.334 15.1746 11.997 15.1746Z","fill","currentColor"],["opacity","0.4","d","M11.9971 12.5838C14.9351 12.5838 17.2891 10.2288 17.2891 7.29176C17.2891 4.35476 14.9351 1.99976 11.9971 1.99976C9.06008 1.99976 6.70508 4.35476 6.70508 7.29176C6.70508 10.2288 9.06008 12.5838 11.9971 12.5838Z","fill","currentColor"],["routerLink","/ceo/manage_sm"],["routerLink","/ceo/manage_dsm"],["routerLink","/ceo/manage_sa"],["routerLink","/ceo/user_level/0"],[1,"card","border-bottom","border-4","border-0","border-danger"],["routerLink","/ceo/user_level/1"],["routerLink","/ceo/user_level/2"],["routerLink","/ceo/user_level/3"],["routerLink","/ceo/user_level/4"],["routerLink","/ceo/user_level/5"],["routerLink","/ceo/user_level/6"],["routerLink","/ceo/user_level/7"],["routerLink","/ceo/manage_approval"],[1,"card","border-bottom","border-4","border-0","border-success"],[1,"d-flex","justify-content-between","align-items-warning"],[1,"card"],[1,""],[1,"text-white","rounded"],["src","../../../assets/images/icons/revenue.png","width","80","alt",""],["src","../../../assets/images/icons/net_revenue.png","width","80","alt",""],["src","../../../assets/images/icons/tds-1.png","width","80","alt",""],["src","../../../assets/images/icons/today-revenue.png","width","80","alt",""],["routerLink","/ceo/gst_report"],["src","../../../assets/images/icons/gst.png","width","80","alt",""],["routerLink","/ceo/tds_report"],["src","../../../assets/images/icons/tds.png","width","80","alt",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e.O4$(),e.TgZ(9,"svg",9),e._UZ(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13),e.qZA()(),e.kcU(),e.TgZ(14,"div",14)(15,"h2",15),e._uU(16,"0"),e.qZA(),e._uU(17," Total Employees "),e.qZA()()()()(),e.TgZ(18,"div",4)(19,"a",16)(20,"div",5)(21,"div",6)(22,"div",7)(23,"div",17),e.O4$(),e.TgZ(24,"svg",9),e._UZ(25,"path",18)(26,"path",19),e.qZA()(),e.kcU(),e.TgZ(27,"div",14)(28,"h2",15),e._uU(29,"0"),e.qZA(),e._uU(30," GM "),e.qZA()()()()()(),e.TgZ(31,"div",4)(32,"a",20)(33,"div",5)(34,"div",6)(35,"div",7)(36,"div",17),e.O4$(),e.TgZ(37,"svg",9),e._UZ(38,"path",18)(39,"path",19),e.qZA()(),e.kcU(),e.TgZ(40,"div",14)(41,"h2",15),e._uU(42,"0"),e.qZA(),e._uU(43," SM "),e.qZA()()()()()(),e.TgZ(44,"div",4)(45,"a",21)(46,"div",5)(47,"div",6)(48,"div",7)(49,"div",17),e.O4$(),e.TgZ(50,"svg",9),e._UZ(51,"path",18)(52,"path",19),e.qZA()(),e.kcU(),e.TgZ(53,"div",14)(54,"h2",15),e._uU(55,"0"),e.qZA(),e._uU(56," DSM "),e.qZA()()()()()(),e.TgZ(57,"div",4)(58,"a",22)(59,"div",5)(60,"div",6)(61,"div",7)(62,"div",17),e.O4$(),e.TgZ(63,"svg",9),e._UZ(64,"path",18)(65,"path",19),e.qZA()(),e.kcU(),e.TgZ(66,"div",14)(67,"h2",15),e._uU(68,"0"),e.qZA(),e._uU(69," SA "),e.qZA()()()()()()(),e.TgZ(70,"div",1)(71,"div",4)(72,"a",23)(73,"div",24)(74,"div",6)(75,"div",7)(76,"div",8),e.O4$(),e.TgZ(77,"svg",9),e._UZ(78,"path",10)(79,"path",11)(80,"path",12)(81,"path",13),e.qZA()(),e.kcU(),e.TgZ(82,"div",14)(83,"h2",15),e._uU(84,"0"),e.qZA(),e._uU(85," Total User "),e.qZA()()()()()(),e.TgZ(86,"div",4)(87,"a",25)(88,"div",24)(89,"div",6)(90,"div",7)(91,"div",17),e.O4$(),e.TgZ(92,"svg",9),e._UZ(93,"path",18)(94,"path",19),e.qZA()(),e.kcU(),e.TgZ(95,"div",14)(96,"h2",15),e._uU(97,"0"),e.qZA(),e._uU(98," Level 1 Users "),e.qZA()()()()()(),e.TgZ(99,"div",4)(100,"a",26)(101,"div",24)(102,"div",6)(103,"div",7)(104,"div",17),e.O4$(),e.TgZ(105,"svg",9),e._UZ(106,"path",18)(107,"path",19),e.qZA()(),e.kcU(),e.TgZ(108,"div",14)(109,"h2",15),e._uU(110,"0"),e.qZA(),e._uU(111," Level 2 Users "),e.qZA()()()()()(),e.TgZ(112,"div",4)(113,"a",27)(114,"div",24)(115,"div",6)(116,"div",7)(117,"div",17),e.O4$(),e.TgZ(118,"svg",9),e._UZ(119,"path",18)(120,"path",19),e.qZA()(),e.kcU(),e.TgZ(121,"div",14)(122,"h2",15),e._uU(123,"0"),e.qZA(),e._uU(124," Level 3 Users "),e.qZA()()()()()(),e.TgZ(125,"div",4)(126,"a",28)(127,"div",24)(128,"div",6)(129,"div",7)(130,"div",17),e.O4$(),e.TgZ(131,"svg",9),e._UZ(132,"path",18)(133,"path",19),e.qZA()(),e.kcU(),e.TgZ(134,"div",14)(135,"h2",15),e._uU(136,"0"),e.qZA(),e._uU(137," Level 4 Users "),e.qZA()()()()()(),e.TgZ(138,"div",4)(139,"a",29)(140,"div",24)(141,"div",6)(142,"div",7)(143,"div",17),e.O4$(),e.TgZ(144,"svg",9),e._UZ(145,"path",18)(146,"path",19),e.qZA()(),e.kcU(),e.TgZ(147,"div",14)(148,"h2",15),e._uU(149,"0"),e.qZA(),e._uU(150," Level 5 Users "),e.qZA()()()()()(),e.TgZ(151,"div",4)(152,"a",30)(153,"div",24)(154,"div",6)(155,"div",7)(156,"div",17),e.O4$(),e.TgZ(157,"svg",9),e._UZ(158,"path",18)(159,"path",19),e.qZA()(),e.kcU(),e.TgZ(160,"div",14)(161,"h2",15),e._uU(162,"0"),e.qZA(),e._uU(163," Level 6 Users "),e.qZA()()()()()(),e.TgZ(164,"div",4)(165,"a",31)(166,"div",24)(167,"div",6)(168,"div",7)(169,"div",17),e.O4$(),e.TgZ(170,"svg",9),e._UZ(171,"path",18)(172,"path",19),e.qZA()(),e.kcU(),e.TgZ(173,"div",14)(174,"h2",15),e._uU(175,"0"),e.qZA(),e._uU(176," Crown Users "),e.qZA()()()()()(),e.TgZ(177,"div",4)(178,"a",32)(179,"div",33)(180,"div",6)(181,"div",7)(182,"div",17),e.O4$(),e.TgZ(183,"svg",9),e._UZ(184,"path",18)(185,"path",19),e.qZA()(),e.kcU(),e.TgZ(186,"div",14)(187,"h2",15),e._uU(188,"0"),e.qZA(),e._uU(189," Total Approval "),e.qZA()()()()()(),e.TgZ(190,"div",4)(191,"a",32)(192,"div",33)(193,"div",6)(194,"div",7)(195,"div",17),e.O4$(),e.TgZ(196,"svg",9),e._UZ(197,"path",18)(198,"path",19),e.qZA()(),e.kcU(),e.TgZ(199,"div",14)(200,"h2",15),e._uU(201,"0"),e.qZA(),e._uU(202," Accepted Approval "),e.qZA()()()()()(),e.TgZ(203,"div",4)(204,"a",32)(205,"div",33)(206,"div",6)(207,"div",34)(208,"div",17),e.O4$(),e.TgZ(209,"svg",9),e._UZ(210,"path",18)(211,"path",19),e.qZA()(),e.kcU(),e.TgZ(212,"div",14)(213,"h2",15),e._uU(214,"0"),e.qZA(),e._uU(215," Pending Approval "),e.qZA()()()()()(),e.TgZ(216,"div",4)(217,"a",32)(218,"div",33)(219,"div",6)(220,"div",7)(221,"div",17),e.O4$(),e.TgZ(222,"svg",9),e._UZ(223,"path",18)(224,"path",19),e.qZA()(),e.kcU(),e.TgZ(225,"div",14)(226,"h2",15),e._uU(227,"0"),e.qZA(),e._uU(228," Rejected Approval "),e.qZA()()()()()(),e.TgZ(229,"div",4)(230,"div",35)(231,"div",6)(232,"div",7)(233,"div",36),e._uU(234," Total Revenue "),e.TgZ(235,"h2"),e._uU(236,"\u20b9"),e.TgZ(237,"span",15),e._uU(238,"0"),e.qZA()()(),e.TgZ(239,"div",37),e._UZ(240,"img",38),e.qZA()()()()(),e.TgZ(241,"div",4)(242,"div",35)(243,"div",6)(244,"div",7)(245,"div",36),e._uU(246," Net Revenue "),e.TgZ(247,"h2"),e._uU(248,"\u20b9"),e.TgZ(249,"span",15),e._uU(250,"0"),e.qZA()()(),e.TgZ(251,"div",37),e._UZ(252,"img",39),e.qZA()()()()(),e.TgZ(253,"div",4)(254,"div",35)(255,"div",6)(256,"div",7)(257,"div",36),e._uU(258," Monthly Revenue "),e.TgZ(259,"h2",15),e._uU(260,"0"),e.qZA()(),e.TgZ(261,"div",37),e._UZ(262,"img",40),e.qZA()()()()(),e.TgZ(263,"div",4)(264,"div",35)(265,"div",6)(266,"div",7)(267,"div",36),e._uU(268," Today's Revenue "),e.TgZ(269,"h2",15),e._uU(270,"0"),e.qZA()(),e.TgZ(271,"div",37),e._UZ(272,"img",41),e.qZA()()()()(),e.TgZ(273,"div",4)(274,"a",42)(275,"div",35)(276,"div",6)(277,"div",7)(278,"div",36),e._uU(279," Total GST "),e.TgZ(280,"h2",15),e._uU(281,"0"),e.qZA()(),e.TgZ(282,"div",37),e._UZ(283,"img",43),e.qZA()()()()()(),e.TgZ(284,"div",4)(285,"a",44)(286,"div",35)(287,"div",6)(288,"div",7)(289,"div",36),e._uU(290," Total TDS "),e.TgZ(291,"h2",15),e._uU(292,"0"),e.qZA()(),e.TgZ(293,"div",37),e._UZ(294,"img",45),e.qZA()()()()()()()()()()),2&t&&(e.xp6(15),e.Q6J("countUp",n.totalEmployees),e.xp6(13),e.Q6J("countUp",n.totalGM),e.xp6(13),e.Q6J("countUp",n.totalSM),e.xp6(13),e.Q6J("countUp",n.totalDSM),e.xp6(13),e.Q6J("countUp",n.totalSA),e.xp6(16),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(13),e.Q6J("countUp",3500),e.xp6(11),e.Q6J("countUp",54e3),e.xp6(12),e.Q6J("countUp",54e3),e.xp6(10),e.Q6J("countUp",60),e.xp6(10),e.Q6J("countUp",60),e.xp6(11),e.Q6J("countUp",80),e.xp6(11),e.Q6J("countUp",45))},directives:[k.P,E.yS],styles:[""]}),a})();var A=u(4444),q=u(6308),m=u(7155),l=u(4006),_=u(5938),N=u(4383),G=u(7247),M=u(9549),D=u(4385),x=u(3238),U=u(4144),Z=u(4859);function Y(a,i){if(1&a&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.nameGM)}}function R(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Select GM Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function O(a,i){if(1&a&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.nameSM)}}function Q(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Select SM is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function B(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Full Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function J(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function P(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function F(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Mobile Number is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function j(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Mobile number is start only 7,8,9 "),e.qZA())}function $(a,i){if(1&a&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t),e.uIk("data-state-name",t.name),e.xp6(1),e.hij("",t.name," ")}}function H(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Select State is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function V(a,i){if(1&a&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t),e.uIk("data-city-name",t.name),e.xp6(1),e.hij("",t.name," ")}}function W(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Select City is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function X(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Password is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function z(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Password is minimum 8 letter"),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}let p=(()=>{class a{constructor(t,n,o,s,d,C,S){this.http=t,this.service=n,this.formBuilder=o,this.dialogref=s,this.data=d,this.toastr=C,this.dropdownService=S,this.gmList=[],this.smList=[],this.loading=!1,this.states=[],this.cities=[],this.createDSM=this.formBuilder.group({nameDSM:["",[l.kI.required,l.kI.pattern(/^[A-Za-z\s]*$/)]],mobileNumber:["",[l.kI.required,l.kI.pattern(/^((\\+91-?)|0)?[0-9]{10}$/)]],email:["",[l.kI.required,l.kI.email]],GM_Name:["",l.kI.required],SM_Name:["",l.kI.required],password:["",[l.kI.required,l.kI.minLength(6),l.kI.maxLength(40)]],state:["",l.kI.required],city:["",l.kI.required]})}ngOnInit(){this.getGMList(),this.selectCountry(101),console.log("data",this.data),this.data&&this.createDSM.patchValue(this.data)}getGMList(){this.http.get(h.N.apiUrl+"getSelect_CEO_GM_List").subscribe(t=>{if(this.gmList=t.All_GMs,this.data){const n={_id:this.data.GM_Id,nameGM:this.data.GM_Name};this.selectGM(n);const o=this.gmList.find(s=>s._id===n._id);o?this.createDSM.patchValue({GM_Name:o}):console.error("CEO user not found in the list")}},t=>console.log(t))}selectGM(t){this.http.get(h.N.apiUrl+"get_SM_List_from_GM/"+t._id).subscribe(n=>{if(200===n.error_code){if(this.smList=n.data.SMsUnderGM,this.data){const o={_id:this.data.SM_Id,nameSM:this.data.SM_Name},s=this.smList.find(d=>d._id===o._id);s?this.createDSM.patchValue({SM_Name:s}):console.error("CEO user not found in the list")}}else 404===n.error_code&&(this.smList=[],this.toastr.error(n.message))},n=>console.log(n))}onSubmit(){if(this.submitted=!0,!this.createDSM.invalid&&this.submitted)if(this.data){const n=this.createDSM.value.GM_Name,o=this.createDSM.value.SM_Name,s=this.createDSM.value.state,d=this.createDSM.value.city;(t=new FormData).append("GM_Id",n._id),t.append("GM_Name",n.nameGM),t.append("SM_Id",o._id),t.append("SM_Name",o.nameSM),t.append("nameDSM",this.createDSM.value.nameDSM),t.append("email",this.createDSM.value.email),t.append("mobileNumber",this.createDSM.value.mobileNumber),t.append("password",this.createDSM.value.password),t.append("state",s.name),t.append("stateId",s.id),t.append("city",d.name),t.append("cityId",d.id);for(const C of t.entries())console.log(`${C[0]}, ${C[1]}`);this.service.updateDSM(this.data._id,t).subscribe({next:C=>{400==C.error_code?this.toastr.success(C.message):200==C.error_code&&(this.toastr.success(C.message),this.dialogref.close(!0))},error:C=>{alert(C)}})}else{const n=this.createDSM.value.GM_Name,o=this.createDSM.value.SM_Name,s=this.createDSM.value.state,d=this.createDSM.value.city;var t;console.log("selectedSMUser",o),(t=new FormData).append("GM_Id",n._id),t.append("GM_Name",n.nameGM),t.append("SM_Id",o._id),t.append("SM_Name",o.nameSM),t.append("nameDSM",this.createDSM.value.nameDSM),t.append("email",this.createDSM.value.email),t.append("mobileNumber",this.createDSM.value.mobileNumber),t.append("password",this.createDSM.value.password),t.append("state",s.name),t.append("stateId",s.id),t.append("city",d.name),t.append("cityId",d.id);for(const S of t.entries())console.log(`${S[0]}, ${S[1]}`);this.service.createDSM(t).subscribe({next:S=>{400==S.error_code?this.toastr.success(S.message):200==S.error_code&&(this.toastr.success(S.message),this.dialogref.close(!0))},error:S=>{alert(S)}})}}onMobileInputChange(t){t.target.value=t.target.value.replace(/[^0-9]/g,""),t.target.value.length>10&&(t.target.value=t.target.value.slice(0,10))}selectCountry(t){console.log("country",t),this.dropdownService.getStates(t).subscribe(n=>{if(this.states=n.data,this.loading=!1,this.data){const o={id:this.data.stateId,name:this.data.state};this.selectState(o);const s=this.states.find(d=>d.id==o.id);console.log("selectedState",s),s?this.createDSM.patchValue({state:s}):console.error("state found in the list")}},n=>{console.log("Something went wrong: ",n)})}selectState(t){if(!t)return this.createDSM.controls.city.setValue(""),void(this.cities=[]);this.loading=!0,this.dropdownService.getCities(t.id).subscribe(o=>{if(this.cities=o.data,this.loading=!1,this.data){const s={id:this.data.cityId,name:this.data.city},d=this.cities.find(C=>C.id==s.id);console.log("selectedState",d),d?this.createDSM.patchValue({city:d}):console.error("state found in the list")}},o=>{console.log("Something went wrong: ",o)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(r.eN),e.Y36(y),e.Y36(l.qu),e.Y36(_.so),e.Y36(_.WI),e.Y36(N._W),e.Y36(G.M))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-edit-dsm"]],decls:65,vars:19,consts:[["mat-dialog-title",""],["action","","method","post",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-md-6"],["appearance","outline"],["matInput","","formControlName","GM_Name",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","SM_Name"],["appearance","outline",1,"example-full-width","mb-2","pt-1"],["type","text","matInput","","name","nameDSM","id","nameDSM","formControlName","nameDSM","required",""],["type","email","matInput","","formControlName","email","placeholder","Enter Email"],["type","text","matInput","","formControlName","mobileNumber","pattern","[789][0-9]{9}","minlength","10","maxlength","10","placeholder","Enter Mobile Number",3,"input"],["formControlName","state","matInput","",3,"valueChange"],["formControlName","city","matInput",""],["type","text","matInput","","formControlName","password","minlength","8","maxlength","15","placeholder","Enter Password"],["mat-dialog-actions","",1,"justify-content-center"],["mat-button","","mat-raised-button","","color","warn","type","button",3,"mat-dialog-close"],["type","submit","mat-button","","mat-raised-button","","color","primary","cdkFocusInitial",""],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Select GM"),e.qZA(),e.TgZ(9,"mat-select",6),e.NdJ("valueChange",function(s){return n.selectGM(s)}),e.YNc(10,Y,2,2,"mat-option",7),e.qZA(),e.YNc(11,R,4,0,"mat-error",8),e.qZA()(),e.TgZ(12,"div",4)(13,"mat-form-field",5)(14,"mat-label"),e._uU(15,"Select SM"),e.qZA(),e.TgZ(16,"mat-select",9),e.YNc(17,O,2,2,"mat-option",7),e.qZA(),e.YNc(18,Q,4,0,"mat-error",8),e.qZA()(),e.TgZ(19,"div",4)(20,"mat-form-field",10)(21,"mat-label"),e._uU(22,"Full Name"),e.qZA(),e._UZ(23,"input",11),e.YNc(24,B,4,0,"mat-error",8),e.qZA()(),e.TgZ(25,"div",4)(26,"mat-form-field",10)(27,"mat-label"),e._uU(28,"Email"),e.qZA(),e._UZ(29,"input",12),e.YNc(30,J,2,0,"mat-error",8),e.YNc(31,P,4,0,"mat-error",8),e.qZA()(),e.TgZ(32,"div",4)(33,"mat-form-field",10)(34,"mat-label"),e._uU(35,"Mobile Number"),e.qZA(),e.TgZ(36,"input",13),e.NdJ("input",function(s){return n.onMobileInputChange(s)}),e.qZA(),e.YNc(37,F,4,0,"mat-error",8),e.YNc(38,j,2,0,"mat-error",8),e.qZA()(),e.TgZ(39,"div",4)(40,"mat-form-field",5)(41,"mat-label"),e._uU(42,"State"),e.qZA(),e.TgZ(43,"mat-select",14),e.NdJ("valueChange",function(s){return n.selectState(s)}),e.YNc(44,$,2,3,"mat-option",7),e.qZA(),e.YNc(45,H,4,0,"mat-error",8),e.qZA()(),e.TgZ(46,"div",4)(47,"mat-form-field",5)(48,"mat-label"),e._uU(49,"City"),e.qZA(),e.TgZ(50,"mat-select",15),e.YNc(51,V,2,3,"mat-option",7),e.qZA(),e.YNc(52,W,4,0,"mat-error",8),e.qZA()(),e.TgZ(53,"div",4)(54,"mat-form-field",10)(55,"mat-label"),e._uU(56,"Password"),e.qZA(),e._UZ(57,"input",16),e.YNc(58,X,4,0,"mat-error",8),e.YNc(59,z,4,0,"mat-error",8),e.qZA()()()(),e.TgZ(60,"div",17)(61,"button",18),e._uU(62,"Close"),e.qZA(),e.TgZ(63,"button",19),e._uU(64),e.qZA()()()),2&t&&(e.xp6(1),e.hij("",n.data?"Edit":"Add"," DSM"),e.xp6(1),e.Q6J("formGroup",n.createDSM),e.xp6(8),e.Q6J("ngForOf",n.gmList),e.xp6(1),e.Q6J("ngIf",n.createDSM.get("GM_Name").hasError("required")),e.xp6(6),e.Q6J("ngForOf",n.smList),e.xp6(1),e.Q6J("ngIf",n.createDSM.get("SM_Name").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createDSM.get("nameDSM").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createDSM.get("email").hasError("email")&&!n.createDSM.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createDSM.get("email").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createDSM.get("mobileNumber").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createDSM.get("mobileNumber").hasError("pattern")),e.xp6(6),e.Q6J("ngForOf",n.states),e.xp6(1),e.Q6J("ngIf",n.createDSM.get("state").hasError("required")),e.xp6(6),e.Q6J("ngForOf",n.cities),e.xp6(1),e.Q6J("ngIf",n.createDSM.get("city").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createDSM.get("password").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createDSM.get("password").hasError("minlength")),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(3),e.Oqu(n.data?"Update":"Save"))},directives:[_.uh,l._Y,l.JL,l.sg,_.xY,M.KE,M.hX,D.gD,l.JJ,l.u,f.sg,x.ey,f.O5,M.TO,U.Nt,l.Fj,l.Q7,l.c5,l.wO,l.nD,_.H8,Z.lW,_.ZT],styles:[""]}),a})(),g=(()=>{class a{constructor(t,n,o,s){this.toastr=t,this.dialogRef=n,this.data=o,this.http=s,this.message="",this.table=o.table,this.id=o.id}ngOnInit(){}confirmDelete(){"ceo_gm_Table"===this.table?(this.dialogRef.close(this.id),this.http.delete(h.N.apiUrl+"deleteGMandDeleteGMName/"+this.id).subscribe(t=>{this.toastr.success(t.message),this.dialogRef.close(!0)},t=>{this.dialogRef.close(!0)})):"ceo_sm_Table"===this.table?(this.dialogRef.close(this.id),this.http.delete(h.N.apiUrl+"deleteSMandDeleteSMName/"+this.id).subscribe(t=>{this.toastr.success(t.message),this.dialogRef.close(!0)},t=>{this.dialogRef.close(!0)})):"ceo_dsm_Table"===this.table?(this.dialogRef.close(this.id),this.http.delete(h.N.apiUrl+"deleteDSMById/"+this.id).subscribe(t=>{this.toastr.success(t.message),this.dialogRef.close(!0)},t=>{this.dialogRef.close(!0)})):"ceo_sa_Table"===this.table&&(this.dialogRef.close(this.id),this.http.delete(h.N.apiUrl+"deleteSAById/"+this.id).subscribe(t=>{this.toastr.success(t.message),this.dialogRef.close(!0)},t=>{this.dialogRef.close(!0)}))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(N._W),e.Y36(_.so),e.Y36(_.WI),e.Y36(r.eN))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-delete"]],decls:9,vars:0,consts:[["mat-dialog-title","",1,"text-center"],["mat-dialog-content","",1,"text-center"],["mat-dialog-actions","",1,"justify-content-center"],["mat-button","","mat-dialog-close","","mat-raised-button","","color","warn"],["mat-button","","mat-dialog-close","","mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Are you sure?"),e.qZA(),e.TgZ(2,"div",1),e._uU(3," You won't be able to revert this! "),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e._uU(6,"Cancel"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return n.confirmDelete()}),e._uU(8,"Yes, delete it!"),e.qZA()())},directives:[_.uh,_.xY,_.H8,Z.lW,_.ZT],styles:[""]}),a})();var c=u(3546),v=u(455),b=u(5762);function I(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," Sr. No. "),e.qZA())}function K(a,i){if(1&a&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&a){const t=i.index;e.oxw();const n=e.MAs(78);e.xp6(1),e.hij(" ",n.pageIndex*n.pageSize+(t+1)," ")}}function me(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," Created Date "),e.qZA())}function ce(a,i){if(1&a&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.AsE(" ",e.xi3(2,2,t.createdAt,"dd-MM-yyyy ")," | ",e.xi3(3,5,t.createdAt," hh:mm:ss a ")," ")}}function ue(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," GM Name "),e.qZA())}const ee=function(a){return{"text-danger":a}};function de(a,i){if(1&a&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("ngClass",e.VKq(2,ee,!t.GM_Name)),e.xp6(1),e.hij("",t.GM_Name?t.GM_Name:"-"," ")}}function pe(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," SM Name "),e.qZA())}function _e(a,i){if(1&a&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("ngClass",e.VKq(2,ee,!t.SM_Name)),e.xp6(1),e.Oqu(t.SM_Name?t.SM_Name:"-")}}function ge(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," Full Name "),e.qZA())}function he(a,i){if(1&a&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.nameDSM," ")}}function fe(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," Email ID "),e.qZA())}function Me(a,i){if(1&a&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function ve(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," Mobile No. "),e.qZA())}function Ce(a,i){if(1&a&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.mobileNumber," ")}}function Ze(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," District "),e.qZA())}function be(a,i){if(1&a&&(e.TgZ(0,"td",41)(1,"span",43),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(2),e.hij("",t.city," ")}}function Te(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," District "),e.qZA())}function Se(a,i){if(1&a&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij("",t.userCount," ")}}function Ae(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1,"Approval Status "),e.qZA())}function xe(a,i){if(1&a&&(e.TgZ(0,"td",41)(1,"p",44),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(1),e.ekj("text-primary","Pending"===t.ApprovalStatus)("text-success","Accepted"===t.ApprovalStatus)("text-danger","Rejected"===t.ApprovalStatus),e.xp6(1),e.hij(" ",t.ApprovalStatus," ")}}function ye(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," Status "),e.qZA())}function Ne(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",41)(1,"mat-slide-toggle",45),e.NdJ("change",function(){const s=e.CHM(t).$implicit;return e.oxw().toggleDSM(s)}),e._uU(2),e.qZA()()}if(2&a){const t=i.$implicit;e.xp6(1),e.Q6J("checked","Active"===t.status),e.xp6(1),e.hij(" ","Active"===t.status?"Active":"Inactive"," ")}}function Ue(a,i){1&a&&(e.TgZ(0,"th",40),e._uU(1," Action "),e.qZA())}const De=function(){return["/ceo/user_list"]};function Ee(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",41)(1,"a",46)(2,"mat-icon",47),e._uU(3,"visibility"),e.qZA()(),e.TgZ(4,"button",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().editDSM(s)}),e.TgZ(5,"mat-icon",49),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteDSM("ceo_dsm_Table",s._id)}),e.TgZ(8,"mat-icon"),e._uU(9,"delete"),e.qZA()()()}2&a&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,De)))}function qe(a,i){1&a&&e._UZ(0,"tr",51)}function Ie(a,i){1&a&&e._UZ(0,"tr",52)}function we(a,i){if(1&a&&(e.TgZ(0,"tr",54)(1,"td",55),e._uU(2),e.qZA()()),2&a){e.oxw(2);const t=e.MAs(33);e.xp6(2),e.hij(' No data matching the filter "',t.value,'" ')}}function ke(a,i){1&a&&(e.ynx(0),e.YNc(1,we,3,1,"tr",53),e.BQk())}function Le(a,i){1&a&&(e.ynx(0)(1,54),e.TgZ(2,"div",56),e._uU(3," No DSM found for this CEO "),e.qZA(),e.BQk()())}const Ge=function(){return[10]};let Ye=(()=>{class a{constructor(t,n,o){this.service=t,this.dialog=n,this.toastr=o,this.message="",this.displayedColumns=["srNo","joinDate","gmName","smName","fName","email","mobno","districtName","userCount","approvalstatus","status","action"]}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}ngOnInit(){this.getDSMList()}addEditDSM(){this.dialog.open(p,{width:"50%"}).afterClosed().subscribe({next:n=>{n&&this.getDSMList()}})}getDSMList(){this.service.getDSMList().subscribe({next:t=>{console.log("res",t),this.allList=t.All_DSMs,200===t.error_code?(this.dataSource=new m.by(this.allList.reverse()),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length):404===t.error_code&&(this.DSMList=[],this.dataSource=new m.by(this.DSMList),this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length)},error:t=>{console.log(t)}})}onChangeList(){console.log("Selected value:",this.selectedValue),0==this.selectedValue?(this.listFilter=this.allList.filter(t=>"Pending"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator):1==this.selectedValue?(this.listFilter=this.allList.filter(t=>"Accepted"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator):2==this.selectedValue&&(this.listFilter=this.allList.filter(t=>"Rejected"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator)}deleteDSM(t,n){this.dialog.open(g,{width:"400px",data:{table:t,id:n}}).afterClosed().subscribe({next:s=>{this.getDSMList()}})}editDSM(t){this.dialog.open(p,{width:"50%",data:t}).afterClosed().subscribe({next:o=>{o&&this.getDSMList()}})}toggleDSM(t){t.status="Active"===t.status?"Inactive":"Active",this.service.updateDSMStatus(t._id).subscribe({next:n=>{this.toastr.success(n.message)},error:n=>{console.log(n)}})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(y),e.Y36(_.uw),e.Y36(N._W))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-manage-dsm"]],viewQuery:function(t,n){if(1&t&&(e.Gf(A.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},decls:79,vars:9,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-wrap","d-flex","justify-content-between","align-items-center","p-4"],[1,"mat-h1"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E\")"],[1,"mb-0","breadcrumb"],[1,"breadcrumb-item"],["routerLink","/gm/dashboard"],["aria-current","page",1,"breadcrumb-item","active"],[1,"justify-content-between","align-items-center"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline"],[3,"value","ngModel","valueChange","ngModelChange","openedChange"],["value","0"],["value","1"],["value","2"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","",1,"table","table-striped","table-responsive",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","joinDate"],["matColumnDef","gmName"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","smName"],["matColumnDef","fName"],["matColumnDef","email"],["matColumnDef","mobno"],["matColumnDef","districtName"],["matColumnDef","userCount"],["matColumnDef","approvalstatus"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginatorRef",""],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass"],[1,"text-warning","fw-semibold"],[1,"fw-bold","p-2","mb-0"],[3,"checked","change"],["mat-mini-fab","","color","success",3,"routerLink"],["aria-hidden","false","aria-label","Example home icon","fontIcon","visibility"],["mat-mini-fab","","color","primary",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","edit"],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["class","mat-row text-center",4,"matNoDataRow"],[1,"mat-row","text-center"],["colspan","12",1,"mat-cell"],["colspan","4",1,"mat-cell","text-center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),e._uU(5,"Manage DSM Login"),e.qZA()(),e.TgZ(6,"div")(7,"nav",4)(8,"ol",5)(9,"li",6)(10,"a",7),e._uU(11,"Home"),e.qZA()(),e.TgZ(12,"li",8),e._uU(13,"Manage DSM Login"),e.qZA()()()()()(),e.TgZ(14,"mat-card")(15,"mat-card-header",9)(16,"mat-card-title")(17,"button",10),e.NdJ("click",function(){return n.addEditDSM()}),e._uU(18,"Create Login"),e.qZA()(),e.TgZ(19,"mat-form-field",11)(20,"mat-label"),e._uU(21,"Select Status"),e.qZA(),e.TgZ(22,"mat-select",12),e.NdJ("valueChange",function(s){return n.selected=s})("ngModelChange",function(s){return n.selectedValue=s})("openedChange",function(){return n.onChangeList()}),e.TgZ(23,"mat-option",13),e._uU(24,"Pending"),e.qZA(),e.TgZ(25,"mat-option",14),e._uU(26,"Accepted"),e.qZA(),e.TgZ(27,"mat-option",15),e._uU(28,"Rejected"),e.qZA()()(),e.TgZ(29,"mat-form-field")(30,"mat-label"),e._uU(31,"Search"),e.qZA(),e.TgZ(32,"input",16,17),e.NdJ("keyup",function(s){return n.applyFilter(s)}),e.qZA()()(),e.TgZ(34,"mat-card-content")(35,"div",18)(36,"table",19),e.ynx(37,20),e.YNc(38,I,2,0,"th",21),e.YNc(39,K,2,1,"td",22),e.BQk(),e.ynx(40,23),e.YNc(41,me,2,0,"th",21),e.YNc(42,ce,4,8,"td",22),e.BQk(),e.ynx(43,24),e.YNc(44,ue,2,0,"th",21),e.YNc(45,de,2,4,"td",25),e.BQk(),e.ynx(46,26),e.YNc(47,pe,2,0,"th",21),e.YNc(48,_e,2,4,"td",25),e.BQk(),e.ynx(49,27),e.YNc(50,ge,2,0,"th",21),e.YNc(51,he,2,1,"td",22),e.BQk(),e.ynx(52,28),e.YNc(53,fe,2,0,"th",21),e.YNc(54,Me,2,1,"td",22),e.BQk(),e.ynx(55,29),e.YNc(56,ve,2,0,"th",21),e.YNc(57,Ce,2,1,"td",22),e.BQk(),e.ynx(58,30),e.YNc(59,Ze,2,0,"th",21),e.YNc(60,be,3,1,"td",22),e.BQk(),e.ynx(61,31),e.YNc(62,Te,2,0,"th",21),e.YNc(63,Se,2,1,"td",22),e.BQk(),e.ynx(64,32),e.YNc(65,Ae,2,0,"th",21),e.YNc(66,xe,3,7,"td",22),e.BQk(),e.ynx(67,33),e.YNc(68,ye,2,0,"th",21),e.YNc(69,Ne,3,2,"td",22),e.BQk(),e.ynx(70,34),e.YNc(71,Ue,2,0,"th",21),e.YNc(72,Ee,10,2,"td",22),e.BQk(),e.YNc(73,qe,1,0,"tr",35),e.YNc(74,Ie,1,0,"tr",36),e.YNc(75,ke,2,0,"ng-container",37),e.qZA(),e.YNc(76,Le,4,0,"ng-container",37),e.qZA(),e._UZ(77,"mat-paginator",38,39),e.qZA()()()),2&t&&(e.xp6(22),e.Q6J("value",n.selected)("ngModel",n.selectedValue),e.xp6(14),e.Q6J("dataSource",n.dataSource),e.xp6(37),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0!==n.dataSourceLength),e.xp6(1),e.Q6J("ngIf",0==n.dataSourceLength),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,Ge)))},directives:[E.yS,c.a8,c.dk,c.n5,Z.lW,M.KE,M.hX,D.gD,l.JJ,l.On,x.ey,U.Nt,c.dn,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,f.mk,v.Rr,Z.zs,b.Hw,m.as,m.XQ,m.nj,m.Gk,f.O5,m.Ee,A.NW],pipes:[f.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:15%}"]}),a})();function Re(a,i){if(1&a&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.nameGM)}}function Oe(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Select GM Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Qe(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Full Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Be(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function Je(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Pe(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Mobile Number is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Fe(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Mobile number is start only 7,8,9 "),e.qZA())}function je(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Password is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function $e(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Password is minimum 8 letter "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}let te=(()=>{class a{constructor(t,n,o,s,d,C){this.http=t,this.service=n,this.formBuilder=o,this.dialogref=s,this.data=d,this.toastr=C,this.gmList=[],this.createSM=this.formBuilder.group({nameSM:["",[l.kI.required,l.kI.pattern(/^[A-Za-z\s]*$/)]],mobileNumber:["",[l.kI.required,l.kI.pattern(/^((\\+91-?)|0)?[0-9]{10}$/)]],email:["",[l.kI.required,l.kI.email]],GM_Name:["",l.kI.required],password:["",[l.kI.required,l.kI.minLength(6),l.kI.maxLength(40)]]})}ngOnInit(){this.getGMList(),console.log("this.data",this.data),this.data&&this.createSM.patchValue(this.data)}getGMList(){this.http.get(h.N.apiUrl+"getSelect_CEO_GM_List").subscribe(t=>{if(this.gmList=t.All_GMs,this.data){const n={_id:this.data.GM_Id,nameGM:this.data.GM_Name},o=this.gmList.find(s=>s._id===n._id);o?(this.createSM.patchValue({GM_Name:o}),console.log("gmUser ",n)):console.error("CEO user not found in the list")}},t=>console.log(t))}onSubmit(){if(this.submitted=!0,!this.createSM.invalid&&this.submitted)if(this.data){const n=this.createSM.value.GM_Name;(t=new FormData).append("GM_Id",n._id),t.append("GM_Name",n.nameGM),t.append("nameSM",this.createSM.value.nameSM),t.append("email",this.createSM.value.email),t.append("mobileNumber",this.createSM.value.mobileNumber),t.append("password",this.createSM.value.password);for(const o of t.entries())console.log(`${o[0]}, ${o[1]}`);this.service.updateSM(this.data._id,t).subscribe({next:o=>{console.log("rses",o),400==o.error_code?this.toastr.success(o.message):200==o.error_code&&(this.toastr.success(o.message),this.dialogref.close(!0))},error:o=>{alert(o)}})}else{const n=this.createSM.value.GM_Name;var t;(t=new FormData).append("GM_Id",n._id),t.append("GM_Name",n.nameGM),t.append("nameSM",this.createSM.value.nameSM),t.append("email",this.createSM.value.email),t.append("mobileNumber",this.createSM.value.mobileNumber),t.append("password",this.createSM.value.password);for(const s of t.entries())console.log(`${s[0]}, ${s[1]}`);this.service.createSM(t).subscribe({next:s=>{400==s.error_code?this.toastr.success(s.message):200==s.error_code&&(this.toastr.success(s.message),this.dialogref.close(!0))},error:s=>{alert(s)}})}}onMobileInputChange(t){t.target.value=t.target.value.replace(/[^0-9]/g,""),t.target.value.length>10&&(t.target.value=t.target.value.slice(0,10))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(r.eN),e.Y36(y),e.Y36(l.qu),e.Y36(_.so),e.Y36(_.WI),e.Y36(N._W))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-edit-sm"]],decls:44,vars:13,consts:[["mat-dialog-title",""],["action","","method","post",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-md-6"],["appearance","outline"],["matInput","","formControlName","GM_Name"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","outline",1,"example-full-width","mb-2","pt-1"],["type","text","matInput","","name","nameSM","id","nameSM","formControlName","nameSM","required",""],["type","email","matInput","","formControlName","email","placeholder","Enter Email"],["type","text","matInput","","formControlName","mobileNumber","pattern","[789][0-9]{9}","minlength","10","maxlength","10","placeholder","Enter Mobile Number",3,"input"],["type","text","matInput","","formControlName","password","minlength","8","maxlength","15","placeholder","Enter Password"],["mat-dialog-actions","",1,"justify-content-center"],["mat-button","","mat-raised-button","","color","warn","type","button",3,"mat-dialog-close"],["type","submit","mat-button","","mat-raised-button","","color","primary","cdkFocusInitial",""],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Select GM"),e.qZA(),e.TgZ(9,"mat-select",6),e.YNc(10,Re,2,2,"mat-option",7),e.qZA(),e.YNc(11,Oe,4,0,"mat-error",8),e.qZA()(),e.TgZ(12,"div",4)(13,"mat-form-field",9)(14,"mat-label"),e._uU(15,"Full Name"),e.qZA(),e._UZ(16,"input",10),e.YNc(17,Qe,4,0,"mat-error",8),e.qZA()(),e.TgZ(18,"div",4)(19,"mat-form-field",9)(20,"mat-label"),e._uU(21,"Email"),e.qZA(),e._UZ(22,"input",11),e.YNc(23,Be,2,0,"mat-error",8),e.YNc(24,Je,4,0,"mat-error",8),e.qZA()(),e.TgZ(25,"div",4)(26,"mat-form-field",9)(27,"mat-label"),e._uU(28,"Mobile Number"),e.qZA(),e.TgZ(29,"input",12),e.NdJ("input",function(s){return n.onMobileInputChange(s)}),e.qZA(),e.YNc(30,Pe,4,0,"mat-error",8),e.YNc(31,Fe,2,0,"mat-error",8),e.qZA()(),e.TgZ(32,"div",4)(33,"mat-form-field",9)(34,"mat-label"),e._uU(35,"Password"),e.qZA(),e._UZ(36,"input",13),e.YNc(37,je,4,0,"mat-error",8),e.YNc(38,$e,4,0,"mat-error",8),e.qZA()()()(),e.TgZ(39,"div",14)(40,"button",15),e._uU(41,"Close"),e.qZA(),e.TgZ(42,"button",16),e._uU(43),e.qZA()()()),2&t&&(e.xp6(1),e.hij("",n.data?"Edit":"Add"," SM"),e.xp6(1),e.Q6J("formGroup",n.createSM),e.xp6(8),e.Q6J("ngForOf",n.gmList),e.xp6(1),e.Q6J("ngIf",n.createSM.get("GM_Name").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createSM.get("nameSM").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createSM.get("email").hasError("email")&&!n.createSM.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createSM.get("email").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createSM.get("mobileNumber").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createSM.get("mobileNumber").hasError("pattern")),e.xp6(6),e.Q6J("ngIf",n.createSM.get("password").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createSM.get("password").hasError("minlength")),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(3),e.Oqu(n.data?"Update":"Save"))},directives:[_.uh,l._Y,l.JL,l.sg,_.xY,M.KE,M.hX,D.gD,l.JJ,l.u,f.sg,x.ey,f.O5,M.TO,U.Nt,l.Fj,l.Q7,l.c5,l.wO,l.nD,_.H8,Z.lW,_.ZT],styles:[""]}),a})();function He(a,i){1&a&&(e.TgZ(0,"th",37),e._uU(1," Sr. No. "),e.qZA())}function Ve(a,i){if(1&a&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&a){const t=i.index;e.oxw();const n=e.MAs(69);e.xp6(1),e.hij(" ",n.pageIndex*n.pageSize+(t+1)," ")}}function We(a,i){1&a&&(e.TgZ(0,"th",37),e._uU(1," Created Date "),e.qZA())}function Xe(a,i){if(1&a&&(e.TgZ(0,"td",38),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.AsE(" ",e.xi3(2,2,t.createdAt,"dd-MM-yyyy ")," | ",e.xi3(3,5,t.createdAt," hh:mm:ss a ")," ")}}function ze(a,i){1&a&&(e.TgZ(0,"th",37),e._uU(1," GM Name "),e.qZA())}const Ke=function(a){return{"text-danger":a}};function et(a,i){if(1&a&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("ngClass",e.VKq(2,Ke,!t.GM_Name)),e.xp6(1),e.hij("",t.GM_Name?t.GM_Name:"-"," ")}}function tt(a,i){1&a&&(e.TgZ(0,"th",37),e._uU(1," Full Name "),e.qZA())}function at(a,i){if(1&a&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.nameSM," ")}}function nt(a,i){1&a&&(e.TgZ(0,"th",37),e._uU(1," Email ID "),e.qZA())}function it(a,i){if(1&a&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function ot(a,i){1&a&&(e.TgZ(0,"th",37),e._uU(1," Mobile No. "),e.qZA())}function rt(a,i){if(1&a&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.mobileNumber," ")}}function st(a,i){1&a&&(e.TgZ(0,"th",37),e._uU(1,"Approval Status "),e.qZA())}function lt(a,i){if(1&a&&(e.TgZ(0,"td",38)(1,"p",40),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(1),e.ekj("text-primary","Pending"===t.ApprovalStatus)("text-success","Accepted"===t.ApprovalStatus)("text-danger","Rejected"===t.ApprovalStatus),e.xp6(1),e.hij(" ",t.ApprovalStatus," ")}}function mt(a,i){1&a&&(e.TgZ(0,"th",37),e._uU(1," Status "),e.qZA())}function ct(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",38)(1,"mat-slide-toggle",41),e.NdJ("change",function(){const s=e.CHM(t).$implicit;return e.oxw().toggleSM(s)}),e._uU(2),e.qZA()()}if(2&a){const t=i.$implicit;e.xp6(1),e.Q6J("checked","Active"===t.status),e.xp6(1),e.hij(" ","Active"===t.status?"Active":"Inactive"," ")}}function ut(a,i){1&a&&(e.TgZ(0,"th",37),e._uU(1," Action "),e.qZA())}const dt=function(){return["/ceo/dsmList"]};function pt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",38)(1,"a",42)(2,"mat-icon",43),e._uU(3,"visibility"),e.qZA()(),e.TgZ(4,"button",44),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().editSM(s)}),e.TgZ(5,"mat-icon",45),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteSM("ceo_sm_Table",s._id)}),e.TgZ(8,"mat-icon"),e._uU(9,"delete"),e.qZA()()()}2&a&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,dt)))}function _t(a,i){1&a&&e._UZ(0,"tr",47)}function gt(a,i){1&a&&e._UZ(0,"tr",48)}function ht(a,i){if(1&a&&(e.TgZ(0,"tr",50)(1,"td",51),e._uU(2),e.qZA()()),2&a){e.oxw(2);const t=e.MAs(33);e.xp6(2),e.hij(' No data matching the filter "',t.value,'" ')}}function ft(a,i){1&a&&(e.ynx(0),e.YNc(1,ht,3,1,"tr",49),e.BQk())}function Mt(a,i){1&a&&(e.ynx(0)(1,50),e.TgZ(2,"div",52),e._uU(3," No SM found for this CEO "),e.qZA(),e.BQk()())}const vt=function(){return[10]};let Ct=(()=>{class a{constructor(t,n,o){this.service=t,this.dialog=n,this.toastr=o,this.message="",this.displayedColumns=["srNo","joinDate","gmName","fName","email","mobno","approvalstatus","status","action"]}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}ngOnInit(){this.getSMList()}addEditSM(){this.dialog.open(te,{width:"50%"}).afterClosed().subscribe({next:n=>{n&&this.getSMList()}})}getSMList(){this.service.getSMList().subscribe({next:t=>{console.log("res",t),this.allList=t.All_SMs,200===t.error_code?(this.dataSource=new m.by(this.allList.reverse()),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length):404===t.error_code&&(this.SMList=[],this.dataSource=new m.by(this.SMList),this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length)},error:t=>{console.log(t)}})}onChangeList(){console.log("Selected value:",this.selectedValue),0==this.selectedValue?(this.listFilter=this.allList.filter(t=>"Pending"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator):1==this.selectedValue?(this.listFilter=this.allList.filter(t=>"Accepted"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator):2==this.selectedValue&&(this.listFilter=this.allList.filter(t=>"Rejected"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator)}deleteSM(t,n){this.dialog.open(g,{width:"400px",data:{table:t,id:n}}).afterClosed().subscribe({next:s=>{this.getSMList()}})}editSM(t){this.dialog.open(te,{width:"50%",data:t}).afterClosed().subscribe({next:o=>{o&&this.getSMList()}})}toggleSM(t){t.status="Active"===t.status?"Inactive":"Active",this.service.updateSMStatus(t._id).subscribe({next:n=>{this.toastr.success(n.message)},error:n=>{console.log(n)}})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(y),e.Y36(_.uw),e.Y36(N._W))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-manage-sm"]],viewQuery:function(t,n){if(1&t&&(e.Gf(A.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},decls:70,vars:9,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-wrap","d-flex","justify-content-between","align-items-center","p-4"],[1,"mat-h1"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E\")"],[1,"mb-0","breadcrumb"],[1,"breadcrumb-item"],["routerLink","/gm/dashboard"],["aria-current","page",1,"breadcrumb-item","active"],[1,"justify-content-between","align-items-center"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline"],[3,"value","ngModel","valueChange","ngModelChange","openedChange"],["value","0"],["value","1"],["value","2"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","",1,"table","table-striped","table-responsive",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","joinDate"],["matColumnDef","gmName"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","fName"],["matColumnDef","email"],["matColumnDef","mobno"],["matColumnDef","approvalstatus"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginatorRef",""],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass"],[1,"fw-bold","p-2","mb-0"],[3,"checked","change"],["mat-mini-fab","","color","success",3,"routerLink"],["aria-hidden","false","aria-label","Example home icon","fontIcon","visibility"],["mat-mini-fab","","color","primary",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","edit"],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["class","mat-row text-center",4,"matNoDataRow"],[1,"mat-row","text-center"],["colspan","8",1,"mat-cell"],["colspan","4",1,"mat-cell","text-center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),e._uU(5,"Manage SM Login"),e.qZA()(),e.TgZ(6,"div")(7,"nav",4)(8,"ol",5)(9,"li",6)(10,"a",7),e._uU(11,"Home"),e.qZA()(),e.TgZ(12,"li",8),e._uU(13,"Manage SM Login"),e.qZA()()()()()(),e.TgZ(14,"mat-card")(15,"mat-card-header",9)(16,"mat-card-title")(17,"button",10),e.NdJ("click",function(){return n.addEditSM()}),e._uU(18,"Create Login"),e.qZA()(),e.TgZ(19,"mat-form-field",11)(20,"mat-label"),e._uU(21,"Select Status"),e.qZA(),e.TgZ(22,"mat-select",12),e.NdJ("valueChange",function(s){return n.selected=s})("ngModelChange",function(s){return n.selectedValue=s})("openedChange",function(){return n.onChangeList()}),e.TgZ(23,"mat-option",13),e._uU(24,"Pending"),e.qZA(),e.TgZ(25,"mat-option",14),e._uU(26,"Accepted"),e.qZA(),e.TgZ(27,"mat-option",15),e._uU(28,"Rejected"),e.qZA()()(),e.TgZ(29,"mat-form-field")(30,"mat-label"),e._uU(31,"Search"),e.qZA(),e.TgZ(32,"input",16,17),e.NdJ("keyup",function(s){return n.applyFilter(s)}),e.qZA()()(),e.TgZ(34,"mat-card-content")(35,"div",18)(36,"table",19),e.ynx(37,20),e.YNc(38,He,2,0,"th",21),e.YNc(39,Ve,2,1,"td",22),e.BQk(),e.ynx(40,23),e.YNc(41,We,2,0,"th",21),e.YNc(42,Xe,4,8,"td",22),e.BQk(),e.ynx(43,24),e.YNc(44,ze,2,0,"th",21),e.YNc(45,et,2,4,"td",25),e.BQk(),e.ynx(46,26),e.YNc(47,tt,2,0,"th",21),e.YNc(48,at,2,1,"td",22),e.BQk(),e.ynx(49,27),e.YNc(50,nt,2,0,"th",21),e.YNc(51,it,2,1,"td",22),e.BQk(),e.ynx(52,28),e.YNc(53,ot,2,0,"th",21),e.YNc(54,rt,2,1,"td",22),e.BQk(),e.ynx(55,29),e.YNc(56,st,2,0,"th",21),e.YNc(57,lt,3,7,"td",22),e.BQk(),e.ynx(58,30),e.YNc(59,mt,2,0,"th",21),e.YNc(60,ct,3,2,"td",22),e.BQk(),e.ynx(61,31),e.YNc(62,ut,2,0,"th",21),e.YNc(63,pt,10,2,"td",22),e.BQk(),e.YNc(64,_t,1,0,"tr",32),e.YNc(65,gt,1,0,"tr",33),e.YNc(66,ft,2,0,"ng-container",34),e.qZA(),e.YNc(67,Mt,4,0,"ng-container",34),e.qZA(),e._UZ(68,"mat-paginator",35,36),e.qZA()()()),2&t&&(e.xp6(22),e.Q6J("value",n.selected)("ngModel",n.selectedValue),e.xp6(14),e.Q6J("dataSource",n.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0!==n.dataSourceLength),e.xp6(1),e.Q6J("ngIf",0==n.dataSourceLength),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,vt)))},directives:[E.yS,c.a8,c.dk,c.n5,Z.lW,M.KE,M.hX,D.gD,l.JJ,l.On,x.ey,U.Nt,c.dn,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,f.mk,v.Rr,Z.zs,b.Hw,m.as,m.XQ,m.nj,m.Gk,f.O5,m.Ee,A.NW],pipes:[f.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:15%}@media screen and (max-width: 991.98px){mat-form-field[_ngcontent-%COMP%]{width:50%}.mat-card-header[_ngcontent-%COMP%]{flex-wrap:wrap}}"]}),a})();function Zt(a,i){if(1&a&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.nameGM)}}function bt(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Select GM Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Tt(a,i){if(1&a&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.nameSM)}}function St(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Select SM is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function At(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Full Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function xt(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function yt(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Nt(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Mobile Number is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Ut(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Mobile number is start only 7,8,9 "),e.qZA())}function Dt(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Password is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Et(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Password is minimum 8 letter"),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}let ae=(()=>{class a{constructor(t,n,o,s,d,C){this.service=t,this.http=n,this.formBuilder=o,this.dialogref=s,this.data=d,this.toastr=C,this.gmList=[],this.smList=[],this.createSA=this.formBuilder.group({nameSA:["",[l.kI.required,l.kI.pattern(/^[A-Za-z\s]*$/)]],mobileNumber:["",[l.kI.required,l.kI.pattern(/^((\\+91-?)|0)?[0-9]{10}$/)]],email:["",[l.kI.required,l.kI.email]],GM_Name:["",l.kI.required],SM_Name:["",l.kI.required],password:["",[l.kI.required,l.kI.minLength(6),l.kI.maxLength(40)]]})}ngOnInit(){this.getGMList(),this.data&&this.createSA.patchValue(this.data)}getGMList(){this.http.get(h.N.apiUrl+"getSelect_CEO_GM_List").subscribe(t=>{if(this.gmList=t.All_GMs,this.data){const n={_id:this.data.GM_Id,nameGM:this.data.GM_Name};this.selectGM(n);const o=this.gmList.find(s=>s._id===n._id);o?this.createSA.patchValue({GM_Name:o}):console.error("CEO user not found in the list")}},t=>console.log(t))}selectGM(t){this.http.get(h.N.apiUrl+"get_SM_List_from_GM/"+t._id).subscribe(n=>{if(200===n.error_code){if(this.smList=n.data.SMsUnderGM,this.data){const o={_id:this.data.SM_Id,nameSM:this.data.SM_Name},s=this.smList.find(d=>d._id===o._id);s?this.createSA.patchValue({SM_Name:s}):console.error("CEO user not found in the list")}}else 404===n.error_code&&(this.smList=[],this.toastr.error(n.message))},n=>console.log(n))}onSubmit(){if(this.submitted=!0,!this.createSA.invalid&&this.submitted)if(this.data){const n=this.createSA.value.GM_Name,o=this.createSA.value.SM_Name;(t=new FormData).append("GM_Id",n._id),t.append("GM_Name",n.nameGM),t.append("SM_Id",o._id),t.append("SM_Name",o.nameSM),t.append("nameSA",this.createSA.value.nameSA),t.append("email",this.createSA.value.email),t.append("mobileNumber",this.createSA.value.mobileNumber),t.append("password",this.createSA.value.password);for(const s of t.entries())console.log(`${s[0]}, ${s[1]}`);this.service.updateSA(this.data._id,t).subscribe({next:s=>{400==s.error_code?this.toastr.success(s.message):200==s.error_code&&(this.toastr.success(s.message),this.dialogref.close(!0))},error:s=>{alert(s)}})}else{const n=this.createSA.value.GM_Name,o=this.createSA.value.SM_Name;var t;(t=new FormData).append("GM_Id",n._id),t.append("GM_Name",n.nameGM),t.append("SM_Id",o._id),t.append("SM_Name",o.nameSM),t.append("nameSA",this.createSA.value.nameSA),t.append("email",this.createSA.value.email),t.append("mobileNumber",this.createSA.value.mobileNumber),t.append("password",this.createSA.value.password);for(const d of t.entries())console.log(`${d[0]}, ${d[1]}`);this.service.createSA(t).subscribe({next:d=>{400==d.error_code?this.toastr.success(d.message):200==d.error_code&&(this.toastr.success(d.message),this.dialogref.close(!0))},error:d=>{alert(d)}})}}onMobileInputChange(t){t.target.value=t.target.value.replace(/[^0-9]/g,""),t.target.value.length>10&&(t.target.value=t.target.value.slice(0,10))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(y),e.Y36(r.eN),e.Y36(l.qu),e.Y36(_.so),e.Y36(_.WI),e.Y36(N._W))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-edit-sa"]],decls:51,vars:15,consts:[["mat-dialog-title",""],["action","","method","post",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-md-6"],["appearance","outline"],["matInput","","formControlName","GM_Name",3,"valueChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","formControlName","SM_Name"],["appearance","outline",1,"example-full-width","mb-2","pt-1"],["type","text","matInput","","name","nameSA","id","nameSA","formControlName","nameSA","required",""],["type","email","matInput","","formControlName","email","placeholder","Enter Email"],["type","text","matInput","","formControlName","mobileNumber","pattern","[789][0-9]{9}","minlength","10","maxlength","10","placeholder","Enter Mobile Number",3,"input"],["type","text","matInput","","formControlName","password","minlength","8","maxlength","15","placeholder","Enter Password"],["mat-dialog-actions","",1,"justify-content-center"],["mat-button","","mat-raised-button","","color","warn","type","button",3,"mat-dialog-close"],["type","submit","mat-button","","mat-raised-button","","color","primary","cdkFocusInitial",""],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Select GM"),e.qZA(),e.TgZ(9,"mat-select",6),e.NdJ("valueChange",function(s){return n.selectGM(s)}),e.YNc(10,Zt,2,2,"mat-option",7),e.qZA(),e.YNc(11,bt,4,0,"mat-error",8),e.qZA()(),e.TgZ(12,"div",4)(13,"mat-form-field",5)(14,"mat-label"),e._uU(15,"Select SM"),e.qZA(),e.TgZ(16,"mat-select",9),e.YNc(17,Tt,2,2,"mat-option",7),e.qZA(),e.YNc(18,St,4,0,"mat-error",8),e.qZA()(),e.TgZ(19,"div",4)(20,"mat-form-field",10)(21,"mat-label"),e._uU(22,"Full Name"),e.qZA(),e._UZ(23,"input",11),e.YNc(24,At,4,0,"mat-error",8),e.qZA()(),e.TgZ(25,"div",4)(26,"mat-form-field",10)(27,"mat-label"),e._uU(28,"Email"),e.qZA(),e._UZ(29,"input",12),e.YNc(30,xt,2,0,"mat-error",8),e.YNc(31,yt,4,0,"mat-error",8),e.qZA()(),e.TgZ(32,"div",4)(33,"mat-form-field",10)(34,"mat-label"),e._uU(35,"Mobile Number"),e.qZA(),e.TgZ(36,"input",13),e.NdJ("input",function(s){return n.onMobileInputChange(s)}),e.qZA(),e.YNc(37,Nt,4,0,"mat-error",8),e.YNc(38,Ut,2,0,"mat-error",8),e.qZA()(),e.TgZ(39,"div",4)(40,"mat-form-field",10)(41,"mat-label"),e._uU(42,"Password"),e.qZA(),e._UZ(43,"input",14),e.YNc(44,Dt,4,0,"mat-error",8),e.YNc(45,Et,4,0,"mat-error",8),e.qZA()()()(),e.TgZ(46,"div",15)(47,"button",16),e._uU(48,"Close"),e.qZA(),e.TgZ(49,"button",17),e._uU(50),e.qZA()()()),2&t&&(e.xp6(1),e.hij("",n.data?"Edit":"Add"," SA"),e.xp6(1),e.Q6J("formGroup",n.createSA),e.xp6(8),e.Q6J("ngForOf",n.gmList),e.xp6(1),e.Q6J("ngIf",n.createSA.get("GM_Name").hasError("required")),e.xp6(6),e.Q6J("ngForOf",n.smList),e.xp6(1),e.Q6J("ngIf",n.createSA.get("SM_Name").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createSA.get("nameSA").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createSA.get("email").hasError("email")&&!n.createSA.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createSA.get("email").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createSA.get("mobileNumber").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createSA.get("mobileNumber").hasError("pattern")),e.xp6(6),e.Q6J("ngIf",n.createSA.get("password").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createSA.get("password").hasError("minlength")),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(3),e.Oqu(n.data?"Update":"Save"))},directives:[_.uh,l._Y,l.JL,l.sg,_.xY,M.KE,M.hX,D.gD,l.JJ,l.u,f.sg,x.ey,f.O5,M.TO,U.Nt,l.Fj,l.Q7,l.c5,l.wO,l.nD,_.H8,Z.lW,_.ZT],styles:[""]}),a})();function qt(a,i){1&a&&(e.TgZ(0,"th",38),e._uU(1," Sr. No. "),e.qZA())}function It(a,i){if(1&a&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&a){const t=i.index;e.oxw();const n=e.MAs(72);e.xp6(1),e.hij(" ",n.pageIndex*n.pageSize+(t+1)," ")}}function wt(a,i){1&a&&(e.TgZ(0,"th",38),e._uU(1," Created Date "),e.qZA())}function kt(a,i){if(1&a&&(e.TgZ(0,"td",39),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.AsE(" ",e.xi3(2,2,t.createdAt,"dd-MM-yyyy ")," | ",e.xi3(3,5,t.createdAt," hh:mm:ss a ")," ")}}function Lt(a,i){1&a&&(e.TgZ(0,"th",38),e._uU(1," GM Name "),e.qZA())}const ne=function(a){return{"text-danger":a}};function Gt(a,i){if(1&a&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("ngClass",e.VKq(2,ne,!t.GM_Name)),e.xp6(1),e.Oqu(t.GM_Name?t.GM_Name:"-")}}function Yt(a,i){1&a&&(e.TgZ(0,"th",38),e._uU(1," SM Name "),e.qZA())}function Rt(a,i){if(1&a&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.Q6J("ngClass",e.VKq(2,ne,!t.SM_Name)),e.xp6(1),e.Oqu(t.SM_Name?t.SM_Name:"-")}}function Ot(a,i){1&a&&(e.TgZ(0,"th",38),e._uU(1," Full Name "),e.qZA())}function Qt(a,i){if(1&a&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.nameSA," ")}}function Bt(a,i){1&a&&(e.TgZ(0,"th",38),e._uU(1," Email ID "),e.qZA())}function Jt(a,i){if(1&a&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function Pt(a,i){1&a&&(e.TgZ(0,"th",38),e._uU(1," Mobile No. "),e.qZA())}function Ft(a,i){if(1&a&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.mobileNumber," ")}}function jt(a,i){1&a&&(e.TgZ(0,"th",38),e._uU(1,"Approval Status "),e.qZA())}function $t(a,i){if(1&a&&(e.TgZ(0,"td",39)(1,"p",41),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(1),e.ekj("text-primary","Pending"===t.ApprovalStatus)("text-success","Accepted"===t.ApprovalStatus)("text-danger","Rejected"===t.ApprovalStatus),e.xp6(1),e.hij(" ",t.ApprovalStatus," ")}}function Ht(a,i){1&a&&(e.TgZ(0,"th",38),e._uU(1," Status "),e.qZA())}function Vt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",39)(1,"mat-slide-toggle",42),e.NdJ("change",function(){const s=e.CHM(t).$implicit;return e.oxw().toggleSA(s)}),e._uU(2),e.qZA()()}if(2&a){const t=i.$implicit;e.xp6(1),e.Q6J("checked","Active"===t.status),e.xp6(1),e.hij(" ","Active"===t.status?"Active":"Inactive"," ")}}function Wt(a,i){1&a&&(e.TgZ(0,"th",38),e._uU(1," Action "),e.qZA())}const Xt=function(){return["/ceo/sa_bill_list"]};function zt(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",39)(1,"a",43)(2,"mat-icon",44),e._uU(3,"visibility"),e.qZA()(),e.TgZ(4,"button",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().editSA(s)}),e.TgZ(5,"mat-icon",46),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteSA("ceo_sa_Table",s._id)}),e.TgZ(8,"mat-icon"),e._uU(9,"delete"),e.qZA()()()}2&a&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,Xt)))}function Kt(a,i){1&a&&e._UZ(0,"tr",48)}function ea(a,i){1&a&&e._UZ(0,"tr",49)}function ta(a,i){if(1&a&&(e.TgZ(0,"tr",51)(1,"td",52),e._uU(2),e.qZA()()),2&a){e.oxw(2);const t=e.MAs(33);e.xp6(2),e.hij(' No data matching the filter "',t.value,'" ')}}function aa(a,i){1&a&&(e.ynx(0),e.YNc(1,ta,3,1,"tr",50),e.BQk())}function na(a,i){1&a&&(e.ynx(0)(1,51),e.TgZ(2,"div",53),e._uU(3," No SA found for this CEO "),e.qZA(),e.BQk()())}const ia=function(){return[10]};let oa=(()=>{class a{constructor(t,n,o){this.service=t,this.dialog=n,this.toastr=o,this.message="",this.displayedColumns=["srNo","joinDate","gmName","smName","fName","email","mobno","approvalstatus","status","action"]}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}ngOnInit(){this.getSAList()}getSAList(){this.service.getSAList().subscribe({next:t=>{console.log("res",t),this.allList=t.All_SAs,200===t.error_code?(this.dataSource=new m.by(t.All_SAs.reverse()),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length):404===t.error_code&&(this.SAList=[],this.dataSource=new m.by(this.SAList),this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length)},error:t=>{console.log(t)}})}onChangeList(){console.log("Selected value:",this.selectedValue),0==this.selectedValue?(this.listFilter=this.allList.filter(t=>"Pending"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator):1==this.selectedValue?(this.listFilter=this.allList.filter(t=>"Accepted"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator):2==this.selectedValue&&(this.listFilter=this.allList.filter(t=>"Rejected"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator)}addEditSA(){this.dialog.open(ae,{width:"50%"}).afterClosed().subscribe({next:n=>{n&&this.getSAList()}})}deleteSA(t,n){this.dialog.open(g,{width:"400px",data:{table:t,id:n}}).afterClosed().subscribe({next:s=>{this.getSAList()}})}editSA(t){this.dialog.open(ae,{width:"50%",data:t}).afterClosed().subscribe({next:o=>{o&&this.getSAList()}})}toggleSA(t){t.status="Active"===t.status?"Inactive":"Active",this.service.updateSAStatus(t._id).subscribe({next:n=>{this.toastr.success(n.message)},error:n=>{console.log(n)}})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(y),e.Y36(_.uw),e.Y36(N._W))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-manage-sa"]],viewQuery:function(t,n){if(1&t&&(e.Gf(A.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},decls:73,vars:9,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-wrap","d-flex","justify-content-between","align-items-center","p-4"],[1,"mat-h1"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E\")"],[1,"mb-0","breadcrumb"],[1,"breadcrumb-item"],["routerLink","/gm/dashboard"],["aria-current","page",1,"breadcrumb-item","active"],[1,"justify-content-between","align-items-center"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline"],[3,"value","ngModel","valueChange","ngModelChange","openedChange"],["value","0"],["value","1"],["value","2"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","",1,"table","table-striped","table-responsive",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","joinDate"],["matColumnDef","gmName"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","smName"],["matColumnDef","fName"],["matColumnDef","email"],["matColumnDef","mobno"],["matColumnDef","approvalstatus"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginatorRef",""],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass"],[1,"fw-bold","p-2","mb-0"],[3,"checked","change"],["mat-mini-fab","","color","success",3,"routerLink"],["aria-hidden","false","aria-label","Example home icon","fontIcon","visibility"],["mat-mini-fab","","color","primary",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","edit"],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["class","mat-row text-center",4,"matNoDataRow"],[1,"mat-row","text-center"],["colspan","10",1,"mat-cell"],["colspan","4",1,"mat-cell","text-center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),e._uU(5,"Manage SA Login"),e.qZA()(),e.TgZ(6,"div")(7,"nav",4)(8,"ol",5)(9,"li",6)(10,"a",7),e._uU(11,"Home"),e.qZA()(),e.TgZ(12,"li",8),e._uU(13,"Manage SA Login"),e.qZA()()()()()(),e.TgZ(14,"mat-card")(15,"mat-card-header",9)(16,"mat-card-title")(17,"button",10),e.NdJ("click",function(){return n.addEditSA()}),e._uU(18,"Create Login"),e.qZA()(),e.TgZ(19,"mat-form-field",11)(20,"mat-label"),e._uU(21,"Select Status"),e.qZA(),e.TgZ(22,"mat-select",12),e.NdJ("valueChange",function(s){return n.selected=s})("ngModelChange",function(s){return n.selectedValue=s})("openedChange",function(){return n.onChangeList()}),e.TgZ(23,"mat-option",13),e._uU(24,"Pending"),e.qZA(),e.TgZ(25,"mat-option",14),e._uU(26,"Accepted"),e.qZA(),e.TgZ(27,"mat-option",15),e._uU(28,"Rejected"),e.qZA()()(),e.TgZ(29,"mat-form-field")(30,"mat-label"),e._uU(31,"Search"),e.qZA(),e.TgZ(32,"input",16,17),e.NdJ("keyup",function(s){return n.applyFilter(s)}),e.qZA()()(),e.TgZ(34,"mat-card-content")(35,"div",18)(36,"table",19),e.ynx(37,20),e.YNc(38,qt,2,0,"th",21),e.YNc(39,It,2,1,"td",22),e.BQk(),e.ynx(40,23),e.YNc(41,wt,2,0,"th",21),e.YNc(42,kt,4,8,"td",22),e.BQk(),e.ynx(43,24),e.YNc(44,Lt,2,0,"th",21),e.YNc(45,Gt,2,4,"td",25),e.BQk(),e.ynx(46,26),e.YNc(47,Yt,2,0,"th",21),e.YNc(48,Rt,2,4,"td",25),e.BQk(),e.ynx(49,27),e.YNc(50,Ot,2,0,"th",21),e.YNc(51,Qt,2,1,"td",22),e.BQk(),e.ynx(52,28),e.YNc(53,Bt,2,0,"th",21),e.YNc(54,Jt,2,1,"td",22),e.BQk(),e.ynx(55,29),e.YNc(56,Pt,2,0,"th",21),e.YNc(57,Ft,2,1,"td",22),e.BQk(),e.ynx(58,30),e.YNc(59,jt,2,0,"th",21),e.YNc(60,$t,3,7,"td",22),e.BQk(),e.ynx(61,31),e.YNc(62,Ht,2,0,"th",21),e.YNc(63,Vt,3,2,"td",22),e.BQk(),e.ynx(64,32),e.YNc(65,Wt,2,0,"th",21),e.YNc(66,zt,10,2,"td",22),e.BQk(),e.YNc(67,Kt,1,0,"tr",33),e.YNc(68,ea,1,0,"tr",34),e.YNc(69,aa,2,0,"ng-container",35),e.qZA(),e.YNc(70,na,4,0,"ng-container",35),e.qZA(),e._UZ(71,"mat-paginator",36,37),e.qZA()()()),2&t&&(e.xp6(22),e.Q6J("value",n.selected)("ngModel",n.selectedValue),e.xp6(14),e.Q6J("dataSource",n.dataSource),e.xp6(31),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0!==n.dataSourceLength),e.xp6(1),e.Q6J("ngIf",0==n.dataSourceLength),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,ia)))},directives:[E.yS,c.a8,c.dk,c.n5,Z.lW,M.KE,M.hX,D.gD,l.JJ,l.On,x.ey,U.Nt,c.dn,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,f.mk,v.Rr,Z.zs,b.Hw,m.as,m.XQ,m.nj,m.Gk,f.O5,m.Ee,A.NW],pipes:[f.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:15%}"]}),a})();function ra(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Full Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function sa(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function la(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function ma(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Mobile Number is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function ca(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Mobile number is start only 7,8,9 "),e.qZA())}function ua(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Password is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function da(a,i){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Password is minimum lenght 8 letter "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}let ie=(()=>{class a{constructor(t,n,o,s,d){this.formBuilder=t,this.service=n,this.dialogref=o,this.data=s,this.toastr=d,this.createGM=this.formBuilder.group({nameGM:["",[l.kI.required,l.kI.pattern(/^[A-Za-z\s]*$/)]],mobileNumber:["",[l.kI.required,l.kI.pattern(/^((\\+91-?)|0)?[0-9]{10}$/)]],email:["",[l.kI.required,l.kI.email]],password:["",[l.kI.required,l.kI.minLength(6),l.kI.maxLength(40)]]})}ngOnInit(){this.data&&this.createGM.patchValue(this.data)}onSubmit(){if(this.submitted=!0,!this.createGM.invalid&&this.submitted)if(this.data){(t=new FormData).append("nameGM",this.createGM.value.nameGM),t.append("email",this.createGM.value.email),t.append("password",this.createGM.value.password),t.append("mobileNumber",this.createGM.value.mobileNumber);for(const n of t.entries())console.log(`${n[0]}, ${n[1]}`);this.service.updateGM(this.data._id,t).subscribe({next:n=>{400==n.error_code?this.toastr.success(n.message):200==n.error_code&&(this.toastr.success(n.message),this.dialogref.close(!0)),console.log("val",n)},error:n=>{console.log(n)}})}else{var t;(t=new FormData).append("nameGM",this.createGM.value.nameGM),t.append("email",this.createGM.value.email),t.append("password",this.createGM.value.password),t.append("mobileNumber",this.createGM.value.mobileNumber);for(const o of t.entries())console.log(`${o[0]}, ${o[1]}`);this.service.createGM(t).subscribe({next:o=>{400==o.error_code?this.toastr.success(o.message):200==o.error_code&&(this.toastr.success(o.message),this.dialogref.close(!0)),console.log("val",o)},error:o=>{console.log(o)}})}}onMobileInputChange(t){t.target.value=t.target.value.replace(/[^0-9]/g,""),t.target.value.length>10&&(t.target.value=t.target.value.slice(0,10))}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(l.qu),e.Y36(y),e.Y36(_.so),e.Y36(_.WI),e.Y36(N._W))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-edit-gm"]],decls:37,vars:11,consts:[["mat-dialog-title",""],["action","","method","post",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-md-6"],["appearance","outline",1,"example-full-width","mb-2","pt-1"],["type","text","matInput","","name","nameGM","id","nameGM","formControlName","nameGM","required",""],[4,"ngIf"],["type","email","matInput","","formControlName","email","placeholder","Enter Email"],["type","text","matInput","","formControlName","mobileNumber","pattern","[789][0-9]{9}","minlength","10","maxlength","10","placeholder","Enter Mobile Number",3,"input"],["type","text","matInput","","formControlName","password","minlength","8","maxlength","15","placeholder","Enter Password"],["mat-dialog-actions","",1,"justify-content-center"],["mat-button","","mat-raised-button","","color","warn","type","button",3,"mat-dialog-close"],["type","submit","mat-button","","mat-raised-button","","color","primary","cdkFocusInitial",""]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.qZA(),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Full Name"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,ra,4,0,"mat-error",7),e.qZA()(),e.TgZ(11,"div",4)(12,"mat-form-field",5)(13,"mat-label"),e._uU(14,"Email"),e.qZA(),e._UZ(15,"input",8),e.YNc(16,sa,2,0,"mat-error",7),e.YNc(17,la,4,0,"mat-error",7),e.qZA()(),e.TgZ(18,"div",4)(19,"mat-form-field",5)(20,"mat-label"),e._uU(21,"Mobile Number"),e.qZA(),e.TgZ(22,"input",9),e.NdJ("input",function(s){return n.onMobileInputChange(s)}),e.qZA(),e.YNc(23,ma,4,0,"mat-error",7),e.YNc(24,ca,2,0,"mat-error",7),e.qZA()(),e.TgZ(25,"div",4)(26,"mat-form-field",5)(27,"mat-label"),e._uU(28,"Password"),e.qZA(),e._UZ(29,"input",10),e.YNc(30,ua,4,0,"mat-error",7),e.YNc(31,da,4,0,"mat-error",7),e.qZA()()()(),e.TgZ(32,"div",11)(33,"button",12),e._uU(34,"Close"),e.qZA(),e.TgZ(35,"button",13),e._uU(36),e.qZA()()()),2&t&&(e.xp6(1),e.hij("",n.data?"Edit":"Add"," GM"),e.xp6(1),e.Q6J("formGroup",n.createGM),e.xp6(8),e.Q6J("ngIf",n.createGM.get("nameGM").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createGM.get("email").hasError("email")&&!n.createGM.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createGM.get("email").hasError("required")),e.xp6(6),e.Q6J("ngIf",n.createGM.get("mobileNumber").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createGM.get("mobileNumber").hasError("pattern")),e.xp6(6),e.Q6J("ngIf",n.createGM.get("password").hasError("required")),e.xp6(1),e.Q6J("ngIf",n.createGM.get("password").hasError("minlength")),e.xp6(2),e.Q6J("mat-dialog-close",!1),e.xp6(3),e.Oqu(n.data?"Update":"Save"))},directives:[_.uh,l._Y,l.JL,l.sg,_.xY,M.KE,M.hX,U.Nt,l.Fj,l.JJ,l.u,l.Q7,f.O5,M.TO,l.c5,l.wO,l.nD,_.H8,Z.lW,_.ZT],styles:[""]}),a})();function pa(a,i){1&a&&(e.TgZ(0,"th",35),e._uU(1," Sr. No. "),e.qZA())}function _a(a,i){if(1&a&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&a){const t=i.index;e.oxw();const n=e.MAs(66);e.xp6(1),e.hij(" ",n.pageIndex*n.pageSize+(t+1)," ")}}function ga(a,i){1&a&&(e.TgZ(0,"th",35),e._uU(1," Created Date "),e.qZA())}function ha(a,i){if(1&a&&(e.TgZ(0,"td",36),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.AsE(" ",e.xi3(2,2,t.createdAt,"dd-MM-yyyy ")," | ",e.xi3(3,5,t.createdAt," hh:mm:ss a ")," ")}}function fa(a,i){1&a&&(e.TgZ(0,"th",35),e._uU(1," Full Name "),e.qZA())}function Ma(a,i){if(1&a&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.nameGM," ")}}function va(a,i){1&a&&(e.TgZ(0,"th",35),e._uU(1," Email ID "),e.qZA())}function Ca(a,i){if(1&a&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function Za(a,i){1&a&&(e.TgZ(0,"th",35),e._uU(1," Mobile No. "),e.qZA())}function ba(a,i){if(1&a&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&a){const t=i.$implicit;e.xp6(1),e.hij(" ",t.mobileNumber," ")}}function Ta(a,i){1&a&&(e.TgZ(0,"th",35),e._uU(1,"Approval Status "),e.qZA())}function Sa(a,i){if(1&a&&(e.TgZ(0,"td",36)(1,"p",37),e._uU(2),e.qZA()()),2&a){const t=i.$implicit;e.xp6(1),e.ekj("text-primary","Pending"===t.ApprovalStatus)("text-success","Accepted"===t.ApprovalStatus)("text-danger","Rejected"===t.ApprovalStatus),e.xp6(1),e.hij(" ",t.ApprovalStatus," ")}}function Aa(a,i){1&a&&(e.TgZ(0,"th",35),e._uU(1," Status "),e.qZA())}function xa(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",36)(1,"mat-slide-toggle",38),e.NdJ("change",function(){const s=e.CHM(t).$implicit;return e.oxw().toggleGM(s)}),e._uU(2),e.qZA()()}if(2&a){const t=i.$implicit;e.xp6(1),e.Q6J("checked","Active"===t.status),e.xp6(1),e.hij(" ","Active"===t.status?"Active":"Inactive"," ")}}function ya(a,i){1&a&&(e.TgZ(0,"th",35),e._uU(1," Action "),e.qZA())}const Na=function(){return["/ceo/sm_list"]};function Ua(a,i){if(1&a){const t=e.EpF();e.TgZ(0,"td",36)(1,"a",39)(2,"mat-icon",40),e._uU(3,"visibility"),e.qZA()(),e.TgZ(4,"button",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().editGM(s)}),e.TgZ(5,"mat-icon",42),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteGM("ceo_gm_Table",s._id)}),e.TgZ(8,"mat-icon"),e._uU(9,"delete"),e.qZA()()()}2&a&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,Na)))}function Da(a,i){1&a&&e._UZ(0,"tr",44)}function Ea(a,i){1&a&&e._UZ(0,"tr",45)}function qa(a,i){if(1&a&&(e.TgZ(0,"tr",47)(1,"td",48),e._uU(2),e.qZA()()),2&a){e.oxw(2);const t=e.MAs(33);e.xp6(2),e.hij(' No data matching the filter "',t.value,'" ')}}function Ia(a,i){1&a&&(e.ynx(0),e.YNc(1,qa,3,1,"tr",46),e.BQk())}function wa(a,i){1&a&&(e.ynx(0)(1,47),e.TgZ(2,"div",49),e._uU(3," No GM found for this CEO "),e.qZA(),e.BQk()())}const ka=function(){return[10]};let La=(()=>{class a{constructor(t,n,o){this.service=t,this.toastr=n,this.dialog=o,this.message="",this.displayedColumns=["srNo","joinDate","fName","email","mobno","approvalstatus","status","action"]}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}ngOnInit(){this.getGMList()}getGMList(){this.service.getGMList().subscribe({next:t=>{console.log("res",t),this.allList=t.All_GMs,200===t.error_code?(this.dataSource=new m.by(this.allList.reverse()),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length):404===t.error_code&&(this.GMList=[],this.dataSource=new m.by(this.GMList),this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length)},error:t=>{console.log(t)}})}onChangeList(){console.log("Selected value:",this.selectedValue),0==this.selectedValue?(this.listFilter=this.allList.filter(t=>"Pending"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator):1==this.selectedValue?(this.listFilter=this.allList.filter(t=>"Accepted"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator):2==this.selectedValue&&(this.listFilter=this.allList.filter(t=>"Rejected"===t.ApprovalStatus),this.dataSource=new m.by(this.listFilter),this.dataSource.paginator=this.paginator)}addEditGm(){this.dialog.open(ie,{width:"50%"}).afterClosed().subscribe({next:n=>{n&&this.getGMList()}})}editGM(t){this.dialog.open(ie,{width:"50%",data:t}).afterClosed().subscribe({next:o=>{o&&this.getGMList()}})}deleteGM(t,n){this.dialog.open(g,{width:"400px",data:{table:t,id:n}}).afterClosed().subscribe({next:s=>{this.getGMList()}})}toggleGM(t){t.status="Active"===t.status?"Inactive":"Active",this.service.updateGMStatus(t._id).subscribe({next:n=>{this.toastr.success(n.message)},error:n=>{console.log(n)}})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(y),e.Y36(N._W),e.Y36(_.uw))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-manage-gm"]],viewQuery:function(t,n){if(1&t&&(e.Gf(A.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},decls:67,vars:9,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-wrap","d-flex","justify-content-between","align-items-center","p-4"],[1,"mat-h1"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E\")"],[1,"mb-0","breadcrumb"],[1,"breadcrumb-item"],["routerLink","/gm/dashboard"],["aria-current","page",1,"breadcrumb-item","active"],[1,"justify-content-between","align-items-center"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline"],[3,"value","ngModel","valueChange","ngModelChange","openedChange"],["value","0"],["value","1"],["value","2"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","",1,"table","table-striped","table-responsive",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","joinDate"],["matColumnDef","fName"],["matColumnDef","email"],["matColumnDef","mobno"],["matColumnDef","approvalstatus"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginatorRef",""],["mat-header-cell",""],["mat-cell",""],[1,"fw-bold","p-2","mb-0"],[3,"checked","change"],["mat-mini-fab","","color","success",3,"routerLink"],["aria-hidden","false","aria-label","Example home icon","fontIcon","visibility"],["mat-mini-fab","","color","primary",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","edit"],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["class","mat-row text-center",4,"matNoDataRow"],[1,"mat-row","text-center"],["colspan","8",1,"mat-cell"],["colspan","4",1,"mat-cell","text-center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),e._uU(5,"Manage GM Login"),e.qZA()(),e.TgZ(6,"div")(7,"nav",4)(8,"ol",5)(9,"li",6)(10,"a",7),e._uU(11,"Home"),e.qZA()(),e.TgZ(12,"li",8),e._uU(13,"Manage GM Login"),e.qZA()()()()()(),e.TgZ(14,"mat-card")(15,"mat-card-header",9)(16,"mat-card-title")(17,"button",10),e.NdJ("click",function(){return n.addEditGm()}),e._uU(18,"Create Login"),e.qZA()(),e.TgZ(19,"mat-form-field",11)(20,"mat-label"),e._uU(21,"Select Status"),e.qZA(),e.TgZ(22,"mat-select",12),e.NdJ("valueChange",function(s){return n.selected=s})("ngModelChange",function(s){return n.selectedValue=s})("openedChange",function(){return n.onChangeList()}),e.TgZ(23,"mat-option",13),e._uU(24,"Pending"),e.qZA(),e.TgZ(25,"mat-option",14),e._uU(26,"Accepted"),e.qZA(),e.TgZ(27,"mat-option",15),e._uU(28,"Rejected"),e.qZA()()(),e.TgZ(29,"mat-form-field")(30,"mat-label"),e._uU(31,"Search"),e.qZA(),e.TgZ(32,"input",16,17),e.NdJ("keyup",function(s){return n.applyFilter(s)}),e.qZA()()(),e.TgZ(34,"mat-card-content")(35,"div",18)(36,"table",19),e.ynx(37,20),e.YNc(38,pa,2,0,"th",21),e.YNc(39,_a,2,1,"td",22),e.BQk(),e.ynx(40,23),e.YNc(41,ga,2,0,"th",21),e.YNc(42,ha,4,8,"td",22),e.BQk(),e.ynx(43,24),e.YNc(44,fa,2,0,"th",21),e.YNc(45,Ma,2,1,"td",22),e.BQk(),e.ynx(46,25),e.YNc(47,va,2,0,"th",21),e.YNc(48,Ca,2,1,"td",22),e.BQk(),e.ynx(49,26),e.YNc(50,Za,2,0,"th",21),e.YNc(51,ba,2,1,"td",22),e.BQk(),e.ynx(52,27),e.YNc(53,Ta,2,0,"th",21),e.YNc(54,Sa,3,7,"td",22),e.BQk(),e.ynx(55,28),e.YNc(56,Aa,2,0,"th",21),e.YNc(57,xa,3,2,"td",22),e.BQk(),e.ynx(58,29),e.YNc(59,ya,2,0,"th",21),e.YNc(60,Ua,10,2,"td",22),e.BQk(),e.YNc(61,Da,1,0,"tr",30),e.YNc(62,Ea,1,0,"tr",31),e.YNc(63,Ia,2,0,"ng-container",32),e.qZA(),e.YNc(64,wa,4,0,"ng-container",32),e.qZA(),e._UZ(65,"mat-paginator",33,34),e.qZA()()()),2&t&&(e.xp6(22),e.Q6J("value",n.selected)("ngModel",n.selectedValue),e.xp6(14),e.Q6J("dataSource",n.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",0!==n.dataSourceLength),e.xp6(1),e.Q6J("ngIf",0==n.dataSourceLength),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,ka)))},directives:[E.yS,c.a8,c.dk,c.n5,Z.lW,M.KE,M.hX,D.gD,l.JJ,l.On,x.ey,U.Nt,c.dn,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,v.Rr,Z.zs,b.Hw,m.as,m.XQ,m.nj,m.Gk,f.O5,m.Ee,A.NW],pipes:[f.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:15%}"]}),a})();var Ga=u(6193),Ya=u(9148),Ra=u(8628),oe=u(1900),Oa=u(8144),Qa=u(4603),Ba=u(8860),Ja=u(9012),Pa=u(6896),Fa=u(1963),ja=u(347),$a=u(50),Ha=u(1423);const Va=[{path:"dashboard",component:L,data:{routeName:"dashboard",pageTitle:"CEO Dashboard",isBanner:!0}},{path:"user_management/:id",component:oe.T,data:{routeName:"user_management",pageTitle:"User Management",isBanner:!1}},{path:"user_level/:id",component:oe.T,data:{routeName:"user_level",pageTitle:"Level User List",isBanner:!1}},{path:"manage_approval",component:Ya.s,data:{routeName:"manage_approval",pageTitle:"Manage Approval",isBanner:!1}},{path:"gm_list",component:Ga.k,data:{routeName:"gm_list",pageTitle:"GM List",isBanner:!1}},{path:"sm_list",component:Ra.T,data:{routeName:"sm_list",pageTitle:"SM List",isBanner:!1}},{path:"manage_gm",component:La,data:{routeName:"manage_gm",pageTitle:"Manage GM",isBanner:!1}},{path:"manage_dsm",component:Ye,data:{routeName:"manage_dsm",pageTitle:"Manage DSM",isBanner:!1}},{path:"manage_sm",component:Ct,data:{routeName:"manage_sm",pageTitle:"Manage SM",isBanner:!1}},{path:"manage_sa",component:oa,data:{routeName:"manage_sa",pageTitle:"Manage SA",isBanner:!1}},{path:"user_list",component:Oa.C,data:{routeName:"user_list",pageTitle:"User List",isBanner:!1}},{path:"bill_management",component:Ba.N,data:{routeName:"bill_management",pageTitle:"Bill Management ",isBanner:!1}},{path:"bill_list",component:Ja.E,data:{routeName:"bill_list",pageTitle:"Bill Management ",isBanner:!1}},{path:"dsmList",component:Qa.u,data:{routName:"dsmList",pageTitle:"DSM List",isBanner:!1}},{path:"gst_report",component:Pa.N,data:{routeName:"gst_report",pageTitle:"GST Report",isBanner:!1}},{path:"tds_report",component:Fa.z,data:{routeName:"tds_report",pageTitle:"TDS Report",isBanner:!1}},{path:"manage_level",component:ja.E,data:{routeName:"manage_level",pageTitle:"Manage Level",isBanner:!1}},{path:"manage_voucher",component:$a.o,data:{routeName:"manage_voucher",pageTitle:"Manage Voucher",isBanner:!1}},{path:"sa_bill_list",component:Ha.p,data:{routeName:"sa_bill_list",pageTitle:"Bill List",isBanner:!1}}];let Wa=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[E.Bz.forChild(Va)],E.Bz]}),a})();u(7340);var re=u(2561),za=(u(3353),u(5589));const an={provide:new e.OlP("mat-menu-scroll-strategy"),deps:[re.aV],useFactory:function tn(a){return()=>a.scrollStrategies.reposition()}};let nn=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[an],imports:[[f.ez,x.BQ,x.si,re.U8],za.ZD,x.BQ]}),a})();console.warn("ceo module");let on=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[f.ez,Wa,m.p0,c.QW,U.c,b.Ps,v.rP,A.TU,Z.ot,M.lN,l.UX,D.LD,_.Is,k.m,nn,l.UX,l.u5]]}),a})()},6193:(le,w,u)=>{u.d(w,{k:()=>z});var f=u(4444),E=u(6308),e=u(7155),h=u(2340),r=u(4650),y=u(4383),k=u(529),L=u(8252),A=u(3546),q=u(9549),m=u(4144),l=u(455),_=u(4859),N=u(5762),G=u(6895);function M(p,g){1&p&&(r.TgZ(0,"th",28),r._uU(1," Sr. No. "),r.qZA())}function D(p,g){if(1&p&&(r.TgZ(0,"td",29),r._uU(1),r.qZA()),2&p){const c=g.index;r.oxw();const v=r.MAs(49);r.xp6(1),r.hij(" ",v.pageIndex*v.pageSize+(c+1)," ")}}function x(p,g){1&p&&(r.TgZ(0,"th",28),r._uU(1," Join Date "),r.qZA())}function U(p,g){if(1&p&&(r.TgZ(0,"td",29),r._uU(1),r.ALo(2,"date"),r.qZA()),2&p){const c=g.$implicit;r.xp6(1),r.hij(" ",r.xi3(2,1,c.joinDate,"dd/MM/yyyy HH:MM ")," ")}}function Z(p,g){1&p&&(r.TgZ(0,"th",28),r._uU(1," Full Name "),r.qZA())}function Y(p,g){if(1&p&&(r.TgZ(0,"td",29),r._uU(1),r.qZA()),2&p){const c=g.$implicit;r.xp6(1),r.hij(" ",c.fName," ")}}function R(p,g){1&p&&(r.TgZ(0,"th",28),r._uU(1," Email ID "),r.qZA())}function O(p,g){if(1&p&&(r.TgZ(0,"td",29),r._uU(1),r.qZA()),2&p){const c=g.$implicit;r.xp6(1),r.hij(" ",c.email," ")}}function Q(p,g){1&p&&(r.TgZ(0,"th",28),r._uU(1," Mobile No. "),r.qZA())}function B(p,g){if(1&p&&(r.TgZ(0,"td",29),r._uU(1),r.qZA()),2&p){const c=g.$implicit;r.xp6(1),r.hij(" ",c.mobno," ")}}function J(p,g){1&p&&(r.TgZ(0,"th",28),r._uU(1," Status "),r.qZA())}function P(p,g){if(1&p){const c=r.EpF();r.TgZ(0,"td",29)(1,"mat-slide-toggle",30),r.NdJ("change",function(){const I=r.CHM(c).$implicit;return r.oxw().toggleGM(I)}),r._uU(2),r.qZA()()}if(2&p){const c=g.$implicit;r.xp6(1),r.Q6J("checked",c.active),r.xp6(1),r.hij(" ",c.active?"Active":"Inactive"," ")}}function F(p,g){1&p&&(r.TgZ(0,"th",28),r._uU(1," Action "),r.qZA())}const j=function(){return["/ceo/sm_list"]};function $(p,g){if(1&p){const c=r.EpF();r.TgZ(0,"td",29)(1,"a",31)(2,"mat-icon",32),r._uU(3,"visibility"),r.qZA()(),r.TgZ(4,"button",33),r.NdJ("click",function(){const I=r.CHM(c).$implicit;return r.oxw().deleteGM("dsmTable",I.id)}),r.TgZ(5,"mat-icon"),r._uU(6,"delete"),r.qZA()()()}2&p&&(r.xp6(1),r.Q6J("routerLink",r.DdM(1,j)))}function H(p,g){1&p&&r._UZ(0,"tr",34)}function V(p,g){1&p&&r._UZ(0,"tr",35)}function W(p,g){if(1&p&&(r.TgZ(0,"tr",36)(1,"td",37),r._uU(2),r.qZA()()),2&p){r.oxw();const c=r.MAs(20);r.xp6(2),r.hij('No data matching the filter "',c.value,'"')}}const X=function(){return[10]};let z=(()=>{class p{constructor(c,v,b){this.toastr=c,this.http=v,this.activatedRoute=b,this.displayedColumns=["srNo","joinDate","fName","email","mobno","status","action"]}applyFilter(c){this.dataSource.filter=c.target.value.trim().toLowerCase()}ngOnInit(){this.loginType=localStorage.getItem(h.N.LoginType),this.activatedRoute.params.subscribe(c=>{this.userId=c.id}),this.getGMList()}getGMList(){console.log("userId",this.userId),this.http.get(h.N.apiUrl+`getCEOwithId/${this.userId}`,{}).subscribe(c=>{console.log("response",c),this.GMList=c.CEO.GM_Id,this.dataSource=new e.by(this.GMList.reverse()),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},c=>console.log(c))}deleteGM(c,v){}toggleGM(c){c.active=!c.active,this.toastr.success("Admin Status is Changed  uccessfully!")}}return p.\u0275fac=function(c){return new(c||p)(r.Y36(y._W),r.Y36(k.eN),r.Y36(L.gz))},p.\u0275cmp=r.Xpm({type:p,selectors:[["app-gm-list"]],viewQuery:function(c,v){if(1&c&&(r.Gf(f.NW,5),r.Gf(E.YE,5)),2&c){let b;r.iGM(b=r.CRH())&&(v.paginator=b.first),r.iGM(b=r.CRH())&&(v.sort=b.first)}},decls:50,vars:5,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-wrap","d-flex","justify-content-between","align-items-center","p-4"],[1,"mat-h1"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E\")"],[1,"mb-0","breadcrumb"],[1,"breadcrumb-item"],["routerLink","/gm/dashboard"],["aria-current","page",1,"breadcrumb-item","active"],[1,"justify-content-between","align-items-center"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","",1,"table","table-striped","table-responsive",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","joinDate"],["matColumnDef","fName"],["matColumnDef","email"],["matColumnDef","mobno"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row text-center",4,"matNoDataRow"],["aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginatorRef",""],["mat-header-cell",""],["mat-cell",""],[3,"checked","change"],["mat-mini-fab","","color","primary",3,"routerLink"],["aria-hidden","false","aria-label","Example home icon","fontIcon","visibility"],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row","text-center"],["colspan","9",1,"mat-cell"]],template:function(c,v){1&c&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),r._uU(5," GM List"),r.qZA()(),r.TgZ(6,"div")(7,"nav",4)(8,"ol",5)(9,"li",6)(10,"a",7),r._uU(11,"Home"),r.qZA()(),r.TgZ(12,"li",8),r._uU(13," GM List"),r.qZA()()()()()(),r.TgZ(14,"mat-card")(15,"mat-card-header",9)(16,"mat-form-field")(17,"mat-label"),r._uU(18,"Search"),r.qZA(),r.TgZ(19,"input",10,11),r.NdJ("keyup",function(I){return v.applyFilter(I)}),r.qZA()()(),r.TgZ(21,"mat-card-content")(22,"div",12)(23,"table",13),r.ynx(24,14),r.YNc(25,M,2,0,"th",15),r.YNc(26,D,2,1,"td",16),r.BQk(),r.ynx(27,17),r.YNc(28,x,2,0,"th",15),r.YNc(29,U,3,4,"td",16),r.BQk(),r.ynx(30,18),r.YNc(31,Z,2,0,"th",15),r.YNc(32,Y,2,1,"td",16),r.BQk(),r.ynx(33,19),r.YNc(34,R,2,0,"th",15),r.YNc(35,O,2,1,"td",16),r.BQk(),r.ynx(36,20),r.YNc(37,Q,2,0,"th",15),r.YNc(38,B,2,1,"td",16),r.BQk(),r.ynx(39,21),r.YNc(40,J,2,0,"th",15),r.YNc(41,P,3,2,"td",16),r.BQk(),r.ynx(42,22),r.YNc(43,F,2,0,"th",15),r.YNc(44,$,7,2,"td",16),r.BQk(),r.YNc(45,H,1,0,"tr",23),r.YNc(46,V,1,0,"tr",24),r.YNc(47,W,3,1,"tr",25),r.qZA()(),r._UZ(48,"mat-paginator",26,27),r.qZA()()()),2&c&&(r.xp6(23),r.Q6J("dataSource",v.dataSource),r.xp6(22),r.Q6J("matHeaderRowDef",v.displayedColumns),r.xp6(1),r.Q6J("matRowDefColumns",v.displayedColumns),r.xp6(2),r.Q6J("pageSizeOptions",r.DdM(4,X)))},directives:[L.yS,A.a8,A.dk,q.KE,q.hX,m.Nt,A.dn,e.BZ,e.w1,e.fO,e.ge,e.Dz,e.ev,l.Rr,_.zs,N.Hw,_.lW,e.as,e.XQ,e.nj,e.Gk,e.Ee,f.NW],pipes:[G.uU],styles:[""]}),p})()}}]);