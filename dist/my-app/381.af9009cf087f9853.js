"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[381],{4381:(Ve,D,l)=>{l.r(D),l.d(D,{GmModule:()=>We});var h=l(6895),T=l(8252),t=l(4650),u=l(2340),C=l(529);let Z=(()=>{class a{constructor(e){this.http=e}getGMDashbaord(){return this.http.get(u.N.apiUrl+"getDashboardGM")}getSMList(){return this.http.get(u.N.apiUrl+"getAllSMfromGM")}createSM(e){return this.http.post(u.N.apiUrl+"createSMfromGM",e)}updateSM(e,i){return this.http.put(u.N.apiUrl+`updateSMfromGM/${e}`,i)}updateSMStatus(e){return this.http.put(u.N.apiUrl+`changeStatusSM/${e}`,null)}getDSMList(){return this.http.get(u.N.apiUrl+"getALLDSMRecordsFromGM")}createDSM(e){return this.http.post(u.N.apiUrl+"createDSMfromGM",e)}updateDSM(e,i){return this.http.put(u.N.apiUrl+`updateDSMfromGM/${e}`,i)}updateDSMStatus(e){return this.http.put(u.N.apiUrl+`changeStatusDSM/${e}`,null)}getSAList(){return this.http.get(u.N.apiUrl+"getALLSARecordsFromGM")}createSA(e){return this.http.post(u.N.apiUrl+"createSAfromGM",e)}updateSA(e,i){return this.http.put(u.N.apiUrl+`updateSAfromGM/${e}`,i)}updateSAStatus(e){return this.http.put(u.N.apiUrl+`changeStatusSA/${e}`,null)}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(C.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var y=l(1089);let k=(()=>{class a{constructor(e){this.service=e}ngOnInit(){this.getGMDashbaord()}getGMDashbaord(){this.service.getGMDashbaord().subscribe({next:e=>{console.log("res",e),this.totalSM=e.SM,this.totalDSM=e.DSM,this.totalSA=e.SA,this.totalEmployees=e.totalEmployees},error:e=>{alert(e)}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Z))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-dashboard"]],decls:230,vars:18,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","col-lg-12"],[1,"row","row-cols-1"],[1,"col-lg-3","col-md-6"],[1,"card","border-bottom","border-4","border-0","border-primary"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center"],[1,"bg-soft-info","rounded","p-3"],["width","20","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"icon-20"],["d","M9.34933 14.8577C5.38553 14.8577 2 15.47 2 17.9173C2 20.3665 5.364 20.9999 9.34933 20.9999C13.3131 20.9999 16.6987 20.3876 16.6987 17.9403C16.6987 15.4911 13.3347 14.8577 9.34933 14.8577Z","fill","currentColor"],["opacity","0.4","d","M9.34935 12.5248C12.049 12.5248 14.2124 10.4062 14.2124 7.76241C14.2124 5.11865 12.049 3 9.34935 3C6.65072 3 4.48633 5.11865 4.48633 7.76241C4.48633 10.4062 6.65072 12.5248 9.34935 12.5248Z","fill","currentColor"],["opacity","0.4","d","M16.1733 7.84873C16.1733 9.19505 15.7604 10.4513 15.0363 11.4948C14.961 11.6021 15.0275 11.7468 15.1586 11.7698C15.3406 11.7995 15.5275 11.8177 15.7183 11.8216C17.6165 11.8704 19.3201 10.6736 19.7907 8.87116C20.4884 6.19674 18.4414 3.79541 15.8338 3.79541C15.551 3.79541 15.2799 3.82416 15.0157 3.87686C14.9795 3.88453 14.9404 3.90177 14.9208 3.93244C14.8954 3.97172 14.914 4.02251 14.9394 4.05605C15.7232 5.13214 16.1733 6.44205 16.1733 7.84873Z","fill","currentColor"],["d","M21.779 15.1693C21.4316 14.4439 20.593 13.9465 19.3171 13.7022C18.7153 13.5585 17.0852 13.3544 15.5695 13.3831C15.547 13.386 15.5343 13.4013 15.5324 13.4109C15.5294 13.4262 15.5363 13.4492 15.5656 13.4655C16.2662 13.8047 18.9737 15.2804 18.6332 18.3927C18.6185 18.5288 18.729 18.6438 18.867 18.6246C19.5333 18.5317 21.2476 18.1704 21.779 17.0474C22.0735 16.4533 22.0735 15.7634 21.779 15.1693Z","fill","currentColor"],[1,"text-end"],[1,"counter",3,"countUp"],["routerLink","/gm/manage_sm"],[1,"bg-soft-primary","rounded","p-3"],["d","M11.997 15.1746C7.684 15.1746 4 15.8546 4 18.5746C4 21.2956 7.661 21.9996 11.997 21.9996C16.31 21.9996 19.994 21.3206 19.994 18.5996C19.994 15.8786 16.334 15.1746 11.997 15.1746Z","fill","currentColor"],["opacity","0.4","d","M11.9971 12.5838C14.9351 12.5838 17.2891 10.2288 17.2891 7.29176C17.2891 4.35476 14.9351 1.99976 11.9971 1.99976C9.06008 1.99976 6.70508 4.35476 6.70508 7.29176C6.70508 10.2288 9.06008 12.5838 11.9971 12.5838Z","fill","currentColor"],["routerLink","/gm/manage_dsm"],["routerLink","/gm/manage_sa"],["routerLink","/gm/user_level/0"],[1,"card","border-bottom","border-4","border-0","border-danger"],["routerLink","/gm/user_level/1"],["routerLink","/gm/user_level/2"],["routerLink","/gm/user_level/3"],["routerLink","/gm/user_level/4"],["routerLink","/gm/user_level/5"],["routerLink","/gm/user_level/6"],["routerLink","/gm/user_level/7"],[1,"card"],[1,""],[1,"text-white","rounded"],["src","../../../assets/images/icons/revenue.png","width","80","alt",""],["src","../../../assets/images/icons/net_revenue.png","width","80","alt",""],["src","../../../assets/images/icons/tds-1.png","width","80","alt",""],["src","../../../assets/images/icons/today-revenue.png","width","80","alt",""],["routerLink","/gm/gst_report"],["src","../../../assets/images/icons/gst.png","width","80","alt",""],["routerLink","/gm/tds_report"],["src","../../../assets/images/icons/tds.png","width","80","alt",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),t.O4$(),t.TgZ(9,"svg",9),t._UZ(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13),t.qZA()(),t.kcU(),t.TgZ(14,"div",14)(15,"h2",15),t._uU(16,"0"),t.qZA(),t._uU(17," Total Employees "),t.qZA()()()()(),t.TgZ(18,"div",4)(19,"a",16)(20,"div",5)(21,"div",6)(22,"div",7)(23,"div",17),t.O4$(),t.TgZ(24,"svg",9),t._UZ(25,"path",18)(26,"path",19),t.qZA()(),t.kcU(),t.TgZ(27,"div",14)(28,"h2",15),t._uU(29,"0"),t.qZA(),t._uU(30," SM "),t.qZA()()()()()(),t.TgZ(31,"div",4)(32,"a",20)(33,"div",5)(34,"div",6)(35,"div",7)(36,"div",17),t.O4$(),t.TgZ(37,"svg",9),t._UZ(38,"path",18)(39,"path",19),t.qZA()(),t.kcU(),t.TgZ(40,"div",14)(41,"h2",15),t._uU(42,"0"),t.qZA(),t._uU(43," DSM "),t.qZA()()()()()(),t.TgZ(44,"div",4)(45,"a",21)(46,"div",5)(47,"div",6)(48,"div",7)(49,"div",17),t.O4$(),t.TgZ(50,"svg",9),t._UZ(51,"path",18)(52,"path",19),t.qZA()(),t.kcU(),t.TgZ(53,"div",14)(54,"h2",15),t._uU(55,"0"),t.qZA(),t._uU(56," SA "),t.qZA()()()()()()(),t.TgZ(57,"div",1)(58,"div",4)(59,"a",22)(60,"div",23)(61,"div",6)(62,"div",7)(63,"div",8),t.O4$(),t.TgZ(64,"svg",9),t._UZ(65,"path",10)(66,"path",11)(67,"path",12)(68,"path",13),t.qZA()(),t.kcU(),t.TgZ(69,"div",14)(70,"h2",15),t._uU(71,"0"),t.qZA(),t._uU(72," Total User "),t.qZA()()()()()(),t.TgZ(73,"div",4)(74,"a",24)(75,"div",23)(76,"div",6)(77,"div",7)(78,"div",17),t.O4$(),t.TgZ(79,"svg",9),t._UZ(80,"path",18)(81,"path",19),t.qZA()(),t.kcU(),t.TgZ(82,"div",14)(83,"h2",15),t._uU(84,"0"),t.qZA(),t._uU(85," Level 1 Users "),t.qZA()()()()()(),t.TgZ(86,"div",4)(87,"a",25)(88,"div",23)(89,"div",6)(90,"div",7)(91,"div",17),t.O4$(),t.TgZ(92,"svg",9),t._UZ(93,"path",18)(94,"path",19),t.qZA()(),t.kcU(),t.TgZ(95,"div",14)(96,"h2",15),t._uU(97,"0"),t.qZA(),t._uU(98," Level 2 Users "),t.qZA()()()()()(),t.TgZ(99,"div",4)(100,"a",26)(101,"div",23)(102,"div",6)(103,"div",7)(104,"div",17),t.O4$(),t.TgZ(105,"svg",9),t._UZ(106,"path",18)(107,"path",19),t.qZA()(),t.kcU(),t.TgZ(108,"div",14)(109,"h2",15),t._uU(110,"0"),t.qZA(),t._uU(111," Level 3 Users "),t.qZA()()()()()(),t.TgZ(112,"div",4)(113,"a",27)(114,"div",23)(115,"div",6)(116,"div",7)(117,"div",17),t.O4$(),t.TgZ(118,"svg",9),t._UZ(119,"path",18)(120,"path",19),t.qZA()(),t.kcU(),t.TgZ(121,"div",14)(122,"h2",15),t._uU(123,"0"),t.qZA(),t._uU(124," Level 4 Users "),t.qZA()()()()()(),t.TgZ(125,"div",4)(126,"a",28)(127,"div",23)(128,"div",6)(129,"div",7)(130,"div",17),t.O4$(),t.TgZ(131,"svg",9),t._UZ(132,"path",18)(133,"path",19),t.qZA()(),t.kcU(),t.TgZ(134,"div",14)(135,"h2",15),t._uU(136,"0"),t.qZA(),t._uU(137," Level 5 Users "),t.qZA()()()()()(),t.TgZ(138,"div",4)(139,"a",29)(140,"div",23)(141,"div",6)(142,"div",7)(143,"div",17),t.O4$(),t.TgZ(144,"svg",9),t._UZ(145,"path",18)(146,"path",19),t.qZA()(),t.kcU(),t.TgZ(147,"div",14)(148,"h2",15),t._uU(149,"0"),t.qZA(),t._uU(150," Level 6 Users "),t.qZA()()()()()(),t.TgZ(151,"div",4)(152,"a",30)(153,"div",23)(154,"div",6)(155,"div",7)(156,"div",17),t.O4$(),t.TgZ(157,"svg",9),t._UZ(158,"path",18)(159,"path",19),t.qZA()(),t.kcU(),t.TgZ(160,"div",14)(161,"h2",15),t._uU(162,"0"),t.qZA(),t._uU(163," Crown Users "),t.qZA()()()()()(),t.TgZ(164,"div",4)(165,"div",31)(166,"div",6)(167,"div",7)(168,"div",32),t._uU(169," Total Revenue "),t.TgZ(170,"h2"),t._uU(171,"\u20b9"),t.TgZ(172,"span",15),t._uU(173,"0"),t.qZA()()(),t.TgZ(174,"div",33),t._UZ(175,"img",34),t.qZA()()()()(),t.TgZ(176,"div",4)(177,"div",31)(178,"div",6)(179,"div",7)(180,"div",32),t._uU(181," Net Revenue "),t.TgZ(182,"h2"),t._uU(183,"\u20b9"),t.TgZ(184,"span",15),t._uU(185,"0"),t.qZA()()(),t.TgZ(186,"div",33),t._UZ(187,"img",35),t.qZA()()()()(),t.TgZ(188,"div",4)(189,"div",31)(190,"div",6)(191,"div",7)(192,"div",32),t._uU(193," Monthly Revenue "),t.TgZ(194,"h2",15),t._uU(195,"0"),t.qZA()(),t.TgZ(196,"div",33),t._UZ(197,"img",36),t.qZA()()()()(),t.TgZ(198,"div",4)(199,"div",31)(200,"div",6)(201,"div",7)(202,"div",32),t._uU(203," Today's Revenue "),t.TgZ(204,"h2",15),t._uU(205,"0"),t.qZA()(),t.TgZ(206,"div",33),t._UZ(207,"img",37),t.qZA()()()()(),t.TgZ(208,"div",4)(209,"a",38)(210,"div",31)(211,"div",6)(212,"div",7)(213,"div",32),t._uU(214," Total GST "),t.TgZ(215,"h2",15),t._uU(216,"0"),t.qZA()(),t.TgZ(217,"div",33),t._UZ(218,"img",39),t.qZA()()()()()(),t.TgZ(219,"div",4)(220,"a",40)(221,"div",31)(222,"div",6)(223,"div",7)(224,"div",32),t._uU(225," Total TDS "),t.TgZ(226,"h2",15),t._uU(227,"0"),t.qZA()(),t.TgZ(228,"div",33),t._UZ(229,"img",41),t.qZA()()()()()()()()()()),2&e&&(t.xp6(15),t.Q6J("countUp",i.totalEmployees),t.xp6(13),t.Q6J("countUp",i.totalSM),t.xp6(13),t.Q6J("countUp",i.totalDSM),t.xp6(13),t.Q6J("countUp",i.totalSA),t.xp6(16),t.Q6J("countUp",3500),t.xp6(13),t.Q6J("countUp",3500),t.xp6(13),t.Q6J("countUp",3500),t.xp6(13),t.Q6J("countUp",3500),t.xp6(13),t.Q6J("countUp",3500),t.xp6(13),t.Q6J("countUp",3500),t.xp6(13),t.Q6J("countUp",3500),t.xp6(13),t.Q6J("countUp",3500),t.xp6(11),t.Q6J("countUp",54e3),t.xp6(12),t.Q6J("countUp",54e3),t.xp6(10),t.Q6J("countUp",60),t.xp6(10),t.Q6J("countUp",60),t.xp6(11),t.Q6J("countUp",80),t.xp6(11),t.Q6J("countUp",45))},directives:[y.P,T.yS],styles:[""]}),a})();var S=l(4444),N=l(6308),m=l(7155),s=l(4006),c=l(5938),v=l(4383),L=l(7247),p=l(9549),M=l(4385),b=l(3238),A=l(4144),f=l(4859);function Q(a,n){if(1&a&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e.nameSM)}}function J(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Select SM is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function R(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Full Name is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function B(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid email address "),t.qZA())}function $(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Email is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function j(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile Number is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function O(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile number is start only 7,8,9 "),t.qZA())}function F(a,n){if(1&a&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.Q6J("value",e),t.uIk("data-state-name",e.name),t.xp6(1),t.hij("",e.name," ")}}function G(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Select State is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function H(a,n){if(1&a&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.Q6J("value",e),t.uIk("data-city-name",e.name),t.xp6(1),t.hij("",e.name," ")}}function P(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Select City is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function z(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Password is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function W(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Password is minlength 8 letter "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}let w=(()=>{class a{constructor(e,i,o,r,d,g,Xe){this.http=e,this.formBuilder=i,this.service=o,this.dialogref=r,this.data=d,this.toastr=g,this.dropdownService=Xe,this.smList=[],this.loading=!1,this.states=[],this.cities=[],this.createDSM=this.formBuilder.group({nameDSM:["",[s.kI.required,s.kI.pattern(/^[A-Za-z\s]*$/)]],mobileNumber:["",[s.kI.required,s.kI.pattern(/^((\\+91-?)|0)?[0-9]{10}$/)]],email:["",[s.kI.required,s.kI.email]],SM_Name:["",s.kI.required],password:["",[s.kI.required,s.kI.minLength(6),s.kI.maxLength(40)]],state:["",s.kI.required],city:["",s.kI.required]})}ngOnInit(){this.selectCountry(101),this.getSMList(),console.log(this.data),this.data&&this.createDSM.patchValue(this.data)}getSMList(){this.http.get(u.N.apiUrl+"getAllSMunderGM").subscribe(e=>{if(this.smList=e.data.SMs,this.data){const i={id:this.data.SM_Id,nameGM:this.data.SM_Name},o=this.smList.find(r=>r.id===i.id);o?this.createDSM.patchValue({SM_Name:o}):console.error("CEO user not found in the list")}},e=>console.log(e))}onSubmit(){if(this.submitted=!0,!this.createDSM.invalid&&this.submitted)if(this.data){const i=this.createDSM.value.SM_Name,o=this.createDSM.value.state,r=this.createDSM.value.city;(e=new FormData).append("SM_Id",i.id),e.append("SM_Name",i.nameSM),e.append("nameDSM",this.createDSM.value.nameDSM),e.append("email",this.createDSM.value.email),e.append("mobileNumber",this.createDSM.value.mobileNumber),e.append("password",this.createDSM.value.password),e.append("state",o.name),e.append("stateId",o.id),e.append("city",r.name),e.append("cityId",r.id);for(const d of e.entries())console.log(`${d[0]}, ${d[1]}`);this.service.updateDSM(this.data._id,e).subscribe({next:d=>{400==d.error_code?this.toastr.success(d.message):200==d.error_code&&(this.toastr.success(d.message),this.dialogref.close(!0))},error:d=>{alert(d)}})}else{const i=this.createDSM.value.SM_Name,o=this.createDSM.value.state,r=this.createDSM.value.city;var e;(e=new FormData).append("SM_Id",i.id),e.append("SM_Name",i.nameSM),e.append("nameDSM",this.createDSM.value.nameDSM),e.append("email",this.createDSM.value.email),e.append("mobileNumber",this.createDSM.value.mobileNumber),e.append("password",this.createDSM.value.password),e.append("state",o.name),e.append("stateId",o.id),e.append("city",r.name),e.append("cityId",r.id);for(const g of e.entries())console.log(`${g[0]}, ${g[1]}`);this.service.createDSM(e).subscribe({next:g=>{400==g.error_code?this.toastr.success(g.message):200==g.error_code&&(this.toastr.success(g.message),this.dialogref.close(!0))},error:g=>{alert(g)}})}}onMobileInputChange(e){e.target.value=e.target.value.replace(/[^0-9]/g,""),e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}selectCountry(e){console.log("country",e),this.dropdownService.getStates(e).subscribe(i=>{if(this.states=i.data,this.loading=!1,this.data){const o={id:this.data.stateId,name:this.data.state};this.selectState(o);const r=this.states.find(d=>d.id==o.id);console.log("selectedState",r),r?this.createDSM.patchValue({state:r}):console.error("state found in the list")}},i=>{console.log("Something went wrong: ",i)})}selectState(e){if(!e)return this.createDSM.controls.city.setValue(""),void(this.cities=[]);this.loading=!0,this.dropdownService.getCities(e.id).subscribe(o=>{if(this.cities=o.data,this.loading=!1,this.data){const r={id:this.data.cityId,name:this.data.city},d=this.cities.find(g=>g.id==r.id);console.log("selectedState",d),d?this.createDSM.patchValue({city:d}):console.error("state found in the list")}},o=>{console.log("Something went wrong: ",o)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(C.eN),t.Y36(s.qu),t.Y36(Z),t.Y36(c.so),t.Y36(c.WI),t.Y36(v._W),t.Y36(L.M))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-edit-dsm"]],decls:58,vars:17,consts:[["mat-dialog-title",""],["action","","method","post",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-md-6"],["appearance","outline"],["formControlName","SM_Name","matInput",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","outline",1,"example-full-width","mb-2","pt-1"],["type","text","matInput","","name","nameDSM","id","nameDSM","formControlName","nameDSM","required",""],["type","email","matInput","","formControlName","email","placeholder","Enter Email"],["type","text","matInput","","formControlName","mobileNumber","pattern","[789][0-9]{9}","minlength","10","maxlength","10","placeholder","Enter Mobile Number",3,"input"],["formControlName","state","matInput","",3,"valueChange"],["formControlName","city","matInput",""],["type","text","matInput","","formControlName","password","minlength","8","maxlength","15","placeholder","Enter Password"],["mat-dialog-actions","",1,"justify-content-center"],["mat-button","","mat-raised-button","","color","warn","type","button",3,"mat-dialog-close"],["type","submit","mat-button","","mat-raised-button","","color","primary","cdkFocusInitial",""],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Select SM"),t.qZA(),t.TgZ(9,"mat-select",6),t.YNc(10,Q,2,2,"mat-option",7),t.qZA(),t.YNc(11,J,4,0,"mat-error",8),t.qZA()(),t.TgZ(12,"div",4)(13,"mat-form-field",9)(14,"mat-label"),t._uU(15,"Full Name"),t.qZA(),t._UZ(16,"input",10),t.YNc(17,R,4,0,"mat-error",8),t.qZA()(),t.TgZ(18,"div",4)(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Email"),t.qZA(),t._UZ(22,"input",11),t.YNc(23,B,2,0,"mat-error",8),t.YNc(24,$,4,0,"mat-error",8),t.qZA()(),t.TgZ(25,"div",4)(26,"mat-form-field",9)(27,"mat-label"),t._uU(28,"Mobile Number"),t.qZA(),t.TgZ(29,"input",12),t.NdJ("input",function(r){return i.onMobileInputChange(r)}),t.qZA(),t.YNc(30,j,4,0,"mat-error",8),t.YNc(31,O,2,0,"mat-error",8),t.qZA()(),t.TgZ(32,"div",4)(33,"mat-form-field",5)(34,"mat-label"),t._uU(35,"State"),t.qZA(),t.TgZ(36,"mat-select",13),t.NdJ("valueChange",function(r){return i.selectState(r)}),t.YNc(37,F,2,3,"mat-option",7),t.qZA(),t.YNc(38,G,4,0,"mat-error",8),t.qZA()(),t.TgZ(39,"div",4)(40,"mat-form-field",5)(41,"mat-label"),t._uU(42,"City"),t.qZA(),t.TgZ(43,"mat-select",14),t.YNc(44,H,2,3,"mat-option",7),t.qZA(),t.YNc(45,P,4,0,"mat-error",8),t.qZA()(),t.TgZ(46,"div",4)(47,"mat-form-field",9)(48,"mat-label"),t._uU(49,"Password"),t.qZA(),t._UZ(50,"input",15),t.YNc(51,z,4,0,"mat-error",8),t.YNc(52,W,4,0,"mat-error",8),t.qZA()()()(),t.TgZ(53,"div",16)(54,"button",17),t._uU(55,"Close"),t.qZA(),t.TgZ(56,"button",18),t._uU(57),t.qZA()()()),2&e&&(t.xp6(1),t.hij("",i.data?"Edit":"Add"," DSM"),t.xp6(1),t.Q6J("formGroup",i.createDSM),t.xp6(8),t.Q6J("ngForOf",i.smList),t.xp6(1),t.Q6J("ngIf",i.createDSM.get("SM_Name").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.createDSM.get("nameDSM").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.createDSM.get("email").hasError("email")&&!i.createDSM.get("email").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createDSM.get("email").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.createDSM.get("mobileNumber").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createDSM.get("mobileNumber").hasError("pattern")),t.xp6(6),t.Q6J("ngForOf",i.states),t.xp6(1),t.Q6J("ngIf",i.createDSM.get("state").hasError("required")),t.xp6(6),t.Q6J("ngForOf",i.cities),t.xp6(1),t.Q6J("ngIf",i.createDSM.get("city").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.createDSM.get("password").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createDSM.get("password").hasError("minlength")),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(3),t.Oqu(i.data?"Update":"Save"))},directives:[c.uh,s._Y,s.JL,s.sg,c.xY,p.KE,p.hX,M.gD,s.JJ,s.u,h.sg,b.ey,h.O5,p.TO,A.Nt,s.Fj,s.Q7,s.c5,s.wO,s.nD,c.H8,f.lW,c.ZT],styles:[""]}),a})(),q=(()=>{class a{constructor(e,i,o,r){this.toastr=e,this.dialogRef=i,this.data=o,this.http=r,this.message="",this.table=o.table,this.id=o.id}ngOnInit(){}confirmDelete(){"gm_sm_Table"===this.table?(this.dialogRef.close(this.id),this.http.delete(u.N.apiUrl+"deleteSMandDeleteSMName/"+this.id).subscribe(e=>{this.toastr.success(e.message),this.dialogRef.close(!0)},e=>{this.dialogRef.close(!0)})):"gm_dsm_Table"===this.table?(this.dialogRef.close(this.id),this.http.delete(u.N.apiUrl+"deleteDSMById/"+this.id).subscribe(e=>{this.toastr.success(e.message),this.dialogRef.close(!0)},e=>{this.dialogRef.close(!0)})):"gm_sa_Table"===this.table&&(this.dialogRef.close(this.id),this.http.delete(u.N.apiUrl+"deleteSAById/"+this.id).subscribe(e=>{this.toastr.success(e.message),this.dialogRef.close(!0)},e=>{this.dialogRef.close(!0)}))}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(v._W),t.Y36(c.so),t.Y36(c.WI),t.Y36(C.eN))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-delete"]],decls:9,vars:0,consts:[["mat-dialog-title","",1,"text-center"],["mat-dialog-content","",1,"text-center"],["mat-dialog-actions","",1,"justify-content-center"],["mat-button","","mat-dialog-close","","mat-raised-button","","color","warn"],["mat-button","","mat-dialog-close","","mat-raised-button","","color","primary","cdkFocusInitial","",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Are you sure?"),t.qZA(),t.TgZ(2,"div",1),t._uU(3," You won't be able to revert this! "),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6,"Cancel"),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return i.confirmDelete()}),t._uU(8,"Yes, delete it!"),t.qZA()())},directives:[c.uh,c.xY,c.H8,f.lW,c.ZT],styles:[""]}),a})();var _=l(3546),x=l(455),U=l(5762);function X(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1," Sr. No. "),t.qZA())}function V(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&a){const e=n.index;t.oxw();const i=t.MAs(72);t.xp6(1),t.hij(" ",i.pageIndex*i.pageSize+(e+1)," ")}}function K(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1," Create Date "),t.qZA())}function tt(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.ALo(2,"date"),t.ALo(3,"date"),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.AsE(" ",t.xi3(2,2,e.createdAt,"dd-MM-yyyy ")," | ",t.xi3(3,5,e.createdAt," hh:mm:ss a ")," ")}}function et(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1," SM Name "),t.qZA())}function at(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SM_Name," ")}}function it(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1," Full Name "),t.qZA())}function nt(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.nameDSM," ")}}function ot(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1," Email ID "),t.qZA())}function rt(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.email," ")}}function st(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1," Mobile No. "),t.qZA())}function mt(a,n){if(1&a&&(t.TgZ(0,"td",38),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.mobileNumber," ")}}function lt(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1," District "),t.qZA())}function dt(a,n){if(1&a&&(t.TgZ(0,"td",38)(1,"span",39),t._uU(2),t.qZA()()),2&a){const e=n.$implicit;t.xp6(2),t.hij("",e.city," ")}}function ct(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1,"Approval Status "),t.qZA())}function ut(a,n){if(1&a&&(t.TgZ(0,"td",38)(1,"p",40),t._uU(2),t.qZA()()),2&a){const e=n.$implicit;t.xp6(1),t.ekj("text-primary","Pending"===e.ApprovalStatus)("text-success","Accepted"===e.ApprovalStatus)("text-danger","Rejected"===e.ApprovalStatus),t.xp6(1),t.hij(" ",e.ApprovalStatus," ")}}function pt(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1," Status "),t.qZA())}function gt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",38)(1,"mat-slide-toggle",41),t.NdJ("change",function(){const r=t.CHM(e).$implicit;return t.oxw().toggleDSM(r)}),t._uU(2),t.qZA()()}if(2&a){const e=n.$implicit;t.xp6(1),t.Q6J("checked","Active"===e.status),t.xp6(1),t.hij(" ","Active"===e.status?"Active":"Inactive"," ")}}function _t(a,n){1&a&&(t.TgZ(0,"th",37),t._uU(1," Action "),t.qZA())}const ht=function(){return["/gm/user_list"]};function ft(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",38)(1,"a",42)(2,"mat-icon",43),t._uU(3,"visibility"),t.qZA()(),t.TgZ(4,"button",44),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().editDSM(r)}),t.TgZ(5,"mat-icon",45),t._uU(6,"edit"),t.qZA()(),t.TgZ(7,"button",46),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().deleteDSM("gm_dsm_Table",r._id)}),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA()()()}2&a&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,ht)))}function Zt(a,n){1&a&&t._UZ(0,"tr",47)}function St(a,n){1&a&&t._UZ(0,"tr",48)}function vt(a,n){if(1&a&&(t.TgZ(0,"tr",50)(1,"td",51),t._uU(2),t.qZA()()),2&a){t.oxw(2);const e=t.MAs(33);t.xp6(2),t.hij(' No data matching the filter "',e.value,'" ')}}function At(a,n){1&a&&(t.ynx(0),t.YNc(1,vt,3,1,"tr",49),t.BQk())}function Tt(a,n){1&a&&(t.ynx(0)(1,50),t.TgZ(2,"div",52),t._uU(3," No SM found for this CEO "),t.qZA(),t.BQk()())}const Mt=function(){return[10]};let bt=(()=>{class a{constructor(e,i,o){this.dialog=e,this.toastr=i,this.service=o,this.message="",this.displayedColumns=["srNo","joinDate","smName","fName","email","mobno","district","approvalstatus","status","action"]}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}ngOnInit(){this.getDSMList()}addEditDSM(){this.dialog.open(w,{width:"50%"}).afterClosed().subscribe({next:i=>{this.getDSMList()}})}getDSMList(){this.service.getDSMList().subscribe({next:e=>{console.log("res",e),200===e.error_code?(this.dataSource=new m.by(e.dsmRecords.reverse()),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator):404===e.error_code&&(this.DSMList=[],this.dataSource=new m.by(this.DSMList),this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length)},error:e=>{console.log(e)}})}deleteDSM(e,i){this.dialog.open(q,{width:"400px",data:{table:e,id:i}}).afterClosed().subscribe({next:r=>{console.log("val",r),this.getDSMList()}})}editDSM(e){this.dialog.open(w,{width:"50%",data:e}).afterClosed().subscribe({next:o=>{this.getDSMList()}})}toggleDSM(e){e.status="Active"===e.status?"Inactive":"Active",this.service.updateDSMStatus(e._id).subscribe({next:i=>{this.toastr.success(i.message)},error:i=>{console.log(i)}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(c.uw),t.Y36(v._W),t.Y36(Z))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-manage-dsm"]],viewQuery:function(e,i){if(1&e&&(t.Gf(S.NW,5),t.Gf(N.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},decls:73,vars:7,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-wrap","d-flex","justify-content-between","align-items-center","p-4"],[1,"mat-h1"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E\")"],[1,"mb-0","breadcrumb"],[1,"breadcrumb-item"],["routerLink","/gm/dashboard"],["aria-current","page",1,"breadcrumb-item","active"],[1,"justify-content-between","align-items-center"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline"],["matInput",""],["value","0"],["value","1"],["value","2"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","",1,"table","table-striped","table-responsive",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","joinDate"],["matColumnDef","smName"],["matColumnDef","fName"],["matColumnDef","email"],["matColumnDef","mobno"],["matColumnDef","district"],["matColumnDef","approvalstatus"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginatorRef",""],["mat-header-cell",""],["mat-cell",""],[1,"text-warning","fw-semibold"],[1,"fw-bold","p-2","mb-0"],[3,"checked","change"],["mat-mini-fab","","color","success",3,"routerLink"],["aria-hidden","false","aria-label","Example home icon","fontIcon","visibility"],["mat-mini-fab","","color","primary",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","edit"],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["class","mat-row text-center",4,"matNoDataRow"],[1,"mat-row","text-center"],["colspan","4",1,"mat-cell"],["colspan","4",1,"mat-cell","text-center"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),t._uU(5,"Manage DSM Login"),t.qZA()(),t.TgZ(6,"div")(7,"nav",4)(8,"ol",5)(9,"li",6)(10,"a",7),t._uU(11,"Home"),t.qZA()(),t.TgZ(12,"li",8),t._uU(13,"Manage DSM Login"),t.qZA()()()()()(),t.TgZ(14,"mat-card")(15,"mat-card-header",9)(16,"mat-card-title")(17,"button",10),t.NdJ("click",function(){return i.addEditDSM()}),t._uU(18,"Create Login"),t.qZA()(),t.TgZ(19,"mat-form-field",11)(20,"mat-label"),t._uU(21,"Select Status"),t.qZA(),t.TgZ(22,"mat-select",12)(23,"mat-option",13),t._uU(24,"Pending"),t.qZA(),t.TgZ(25,"mat-option",14),t._uU(26,"Accepted"),t.qZA(),t.TgZ(27,"mat-option",15),t._uU(28,"Rejected"),t.qZA()()(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Search"),t.qZA(),t.TgZ(32,"input",16,17),t.NdJ("keyup",function(r){return i.applyFilter(r)}),t.qZA()()(),t.TgZ(34,"mat-card-content")(35,"div",18)(36,"table",19),t.ynx(37,20),t.YNc(38,X,2,0,"th",21),t.YNc(39,V,2,1,"td",22),t.BQk(),t.ynx(40,23),t.YNc(41,K,2,0,"th",21),t.YNc(42,tt,4,8,"td",22),t.BQk(),t.ynx(43,24),t.YNc(44,et,2,0,"th",21),t.YNc(45,at,2,1,"td",22),t.BQk(),t.ynx(46,25),t.YNc(47,it,2,0,"th",21),t.YNc(48,nt,2,1,"td",22),t.BQk(),t.ynx(49,26),t.YNc(50,ot,2,0,"th",21),t.YNc(51,rt,2,1,"td",22),t.BQk(),t.ynx(52,27),t.YNc(53,st,2,0,"th",21),t.YNc(54,mt,2,1,"td",22),t.BQk(),t.ynx(55,28),t.YNc(56,lt,2,0,"th",21),t.YNc(57,dt,3,1,"td",22),t.BQk(),t.ynx(58,29),t.YNc(59,ct,2,0,"th",21),t.YNc(60,ut,3,7,"td",22),t.BQk(),t.ynx(61,30),t.YNc(62,pt,2,0,"th",21),t.YNc(63,gt,3,2,"td",22),t.BQk(),t.ynx(64,31),t.YNc(65,_t,2,0,"th",21),t.YNc(66,ft,10,2,"td",22),t.BQk(),t.YNc(67,Zt,1,0,"tr",32),t.YNc(68,St,1,0,"tr",33),t.YNc(69,At,2,0,"ng-container",34),t.qZA(),t.YNc(70,Tt,4,0,"ng-container",34),t.qZA(),t._UZ(71,"mat-paginator",35,36),t.qZA()()()),2&e&&(t.xp6(36),t.Q6J("dataSource",i.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0!==i.dataSourceLength),t.xp6(1),t.Q6J("ngIf",0==i.dataSourceLength),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,Mt)))},directives:[T.yS,_.a8,_.dk,_.n5,f.lW,p.KE,p.hX,M.gD,b.ey,A.Nt,_.dn,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,x.Rr,f.zs,U.Hw,m.as,m.XQ,m.nj,m.Gk,h.O5,m.Ee,S.NW],pipes:[h.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:15%}@media screen and (max-width: 991.98px){mat-form-field[_ngcontent-%COMP%]{width:50%}.mat-card-header[_ngcontent-%COMP%]{flex-wrap:wrap}}"]}),a})();function Ct(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Full Name is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function xt(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid email address "),t.qZA())}function Ut(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Email is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function Nt(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile Number is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function qt(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile number is start only 7,8,9 "),t.qZA())}function Dt(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Password is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function yt(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Password is minimum 8 letter"),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}let E=(()=>{class a{constructor(e,i,o,r,d){this.formBuilder=e,this.service=i,this.dialogref=o,this.data=r,this.toastr=d,this.createSM=this.formBuilder.group({nameSM:["",[s.kI.required,s.kI.pattern(/^[A-Za-z\s]*$/)]],mobileNumber:["",[s.kI.required,s.kI.pattern(/^((\\+91-?)|0)?[0-9]{10}$/)]],email:["",[s.kI.required,s.kI.email]],password:["",[s.kI.required,s.kI.minLength(6),s.kI.maxLength(40)]]})}ngOnInit(){this.data&&this.createSM.patchValue(this.data)}onSubmit(){if(this.submitted=!0,!this.createSM.invalid&&this.submitted)if(this.data){(e=new FormData).append("nameSM",this.createSM.value.nameSM),e.append("email",this.createSM.value.email),e.append("password",this.createSM.value.password),e.append("mobileNumber",this.createSM.value.mobileNumber);for(const i of e.entries())console.log(`${i[0]}, ${i[1]}`);this.service.updateSM(this.data._id,e).subscribe({next:i=>{400==i.error_code?this.toastr.success(i.message):200==i.error_code&&(this.toastr.success(i.message),this.dialogref.close(!0)),console.log("val",i)},error:i=>{console.log(i)}})}else{var e;(e=new FormData).append("nameSM",this.createSM.value.nameSM),e.append("email",this.createSM.value.email),e.append("password",this.createSM.value.password),e.append("mobileNumber",this.createSM.value.mobileNumber);for(const o of e.entries())console.log(`${o[0]}, ${o[1]}`);this.service.createSM(e).subscribe({next:o=>{400==o.error_code?this.toastr.success(o.message):200==o.error_code&&(this.toastr.success(o.message),this.dialogref.close(!0)),console.log("val",o)},error:o=>{console.log(o)}})}}onMobileInputChange(e){e.target.value=e.target.value.replace(/[^0-9]/g,""),e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(s.qu),t.Y36(Z),t.Y36(c.so),t.Y36(c.WI),t.Y36(v._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-edit-sm"]],decls:37,vars:11,consts:[["mat-dialog-title",""],["action","","method","post",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-md-6"],["appearance","outline",1,"example-full-width","mb-2","pt-1"],["type","text","matInput","","name","nameSM","id","nameSM","formControlName","nameSM","required",""],[4,"ngIf"],["type","email","matInput","","formControlName","email","placeholder","Enter Email"],["type","text","matInput","","formControlName","mobileNumber","pattern","[789][0-9]{9}","minlength","10","maxlength","10","placeholder","Enter Mobile Number",3,"input"],["type","text","matInput","","formControlName","password","minlength","8","maxlength","15","placeholder","Enter Password"],["mat-dialog-actions","",1,"justify-content-center"],["mat-button","","mat-raised-button","","color","warn","type","button",3,"mat-dialog-close"],["type","submit","mat-button","","mat-raised-button","","color","primary","cdkFocusInitial",""]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Full Name"),t.qZA(),t._UZ(9,"input",6),t.YNc(10,Ct,4,0,"mat-error",7),t.qZA()(),t.TgZ(11,"div",4)(12,"mat-form-field",5)(13,"mat-label"),t._uU(14,"Email"),t.qZA(),t._UZ(15,"input",8),t.YNc(16,xt,2,0,"mat-error",7),t.YNc(17,Ut,4,0,"mat-error",7),t.qZA()(),t.TgZ(18,"div",4)(19,"mat-form-field",5)(20,"mat-label"),t._uU(21,"Mobile Number"),t.qZA(),t.TgZ(22,"input",9),t.NdJ("input",function(r){return i.onMobileInputChange(r)}),t.qZA(),t.YNc(23,Nt,4,0,"mat-error",7),t.YNc(24,qt,2,0,"mat-error",7),t.qZA()(),t.TgZ(25,"div",4)(26,"mat-form-field",5)(27,"mat-label"),t._uU(28,"Password"),t.qZA(),t._UZ(29,"input",10),t.YNc(30,Dt,4,0,"mat-error",7),t.YNc(31,yt,4,0,"mat-error",7),t.qZA()()()(),t.TgZ(32,"div",11)(33,"button",12),t._uU(34,"Close"),t.qZA(),t.TgZ(35,"button",13),t._uU(36),t.qZA()()()),2&e&&(t.xp6(1),t.hij("",i.data?"Edit":"Add"," SM"),t.xp6(1),t.Q6J("formGroup",i.createSM),t.xp6(8),t.Q6J("ngIf",i.createSM.get("nameSM").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.createSM.get("email").hasError("email")&&!i.createSM.get("email").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createSM.get("email").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.createSM.get("mobileNumber").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createSM.get("mobileNumber").hasError("pattern")),t.xp6(6),t.Q6J("ngIf",i.createSM.get("password").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createSM.get("password").hasError("minlength")),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(3),t.Oqu(i.data?"Update":"Save"))},directives:[c.uh,s._Y,s.JL,s.sg,c.xY,p.KE,p.hX,A.Nt,s.Fj,s.JJ,s.u,s.Q7,h.O5,p.TO,s.c5,s.wO,s.nD,c.H8,f.lW,c.ZT],styles:[""]}),a})();function wt(a,n){1&a&&(t.TgZ(0,"th",35),t._uU(1," Sr. No. "),t.qZA())}function Et(a,n){if(1&a&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&a){const e=n.index;t.oxw();const i=t.MAs(66);t.xp6(1),t.hij(" ",i.pageIndex*i.pageSize+(e+1)," ")}}function It(a,n){1&a&&(t.TgZ(0,"th",35),t._uU(1," Create Date "),t.qZA())}function Yt(a,n){if(1&a&&(t.TgZ(0,"td",36),t._uU(1),t.ALo(2,"date"),t.ALo(3,"date"),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.AsE(" ",t.xi3(2,2,e.createdAt,"dd-MM-yyyy ")," | ",t.xi3(3,5,e.createdAt," hh:mm:ss a ")," ")}}function kt(a,n){1&a&&(t.TgZ(0,"th",35),t._uU(1," Full Name "),t.qZA())}function Lt(a,n){if(1&a&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.nameSM," ")}}function Qt(a,n){1&a&&(t.TgZ(0,"th",35),t._uU(1," Email ID "),t.qZA())}function Jt(a,n){if(1&a&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.email," ")}}function Rt(a,n){1&a&&(t.TgZ(0,"th",35),t._uU(1," Mobile No. "),t.qZA())}function Bt(a,n){if(1&a&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.mobileNumber," ")}}function $t(a,n){1&a&&(t.TgZ(0,"th",35),t._uU(1,"Approval Status "),t.qZA())}function jt(a,n){if(1&a&&(t.TgZ(0,"td",36)(1,"p",37),t._uU(2),t.qZA()()),2&a){const e=n.$implicit;t.xp6(1),t.ekj("text-primary","Pending"===e.ApprovalStatus)("text-success","Accepted"===e.ApprovalStatus)("text-danger","Rejected"===e.ApprovalStatus),t.xp6(1),t.hij(" ",e.ApprovalStatus," ")}}function Ot(a,n){1&a&&(t.TgZ(0,"th",35),t._uU(1," Status "),t.qZA())}function Ft(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",36)(1,"mat-slide-toggle",38),t.NdJ("change",function(){const r=t.CHM(e).$implicit;return t.oxw().toggleSM(r)}),t._uU(2),t.qZA()()}if(2&a){const e=n.$implicit;t.xp6(1),t.Q6J("checked","Active"===e.status),t.xp6(1),t.hij(" ","Active"===e.status?"Active":"Inactive"," ")}}function Gt(a,n){1&a&&(t.TgZ(0,"th",35),t._uU(1," Action "),t.qZA())}const Ht=function(){return["/gm/dsmList"]};function Pt(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",36)(1,"a",39)(2,"mat-icon",40),t._uU(3,"visibility"),t.qZA()(),t.TgZ(4,"button",41),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().editSM(r)}),t.TgZ(5,"mat-icon",42),t._uU(6,"edit"),t.qZA()(),t.TgZ(7,"button",43),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().deleteSM("gm_sm_Table",r._id)}),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA()()()}2&a&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,Ht)))}function zt(a,n){1&a&&t._UZ(0,"tr",44)}function Wt(a,n){1&a&&t._UZ(0,"tr",45)}function Xt(a,n){if(1&a&&(t.TgZ(0,"tr",47)(1,"td",48),t._uU(2),t.qZA()()),2&a){t.oxw(2);const e=t.MAs(33);t.xp6(2),t.hij(' No data matching the filter "',e.value,'" ')}}function Vt(a,n){1&a&&(t.ynx(0),t.YNc(1,Xt,3,1,"tr",46),t.BQk())}function Kt(a,n){1&a&&(t.ynx(0)(1,47),t.TgZ(2,"div",49),t._uU(3," No SM found for this CEO "),t.qZA(),t.BQk()())}const te=function(){return[10]};let ee=(()=>{class a{constructor(e,i,o){this.dialog=e,this.toastr=i,this.service=o,this.message="",this.displayedColumns=["srNo","joinDate","fName","email","mobno","approvalstatus","status","action"]}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}ngOnInit(){this.getSMList()}getSMList(){this.service.getSMList().subscribe({next:e=>{console.log("res",e),200===e.error_code?(this.dataSource=new m.by(e.data.reverse()),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length):404===e.error_code&&(this.SMList=[],this.dataSource=new m.by(this.SMList),this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length)},error:e=>{console.log(e)}})}addEditSM(){this.dialog.open(E,{width:"50%"}).afterClosed().subscribe({next:i=>{i&&this.getSMList()}})}deleteSM(e,i){this.dialog.open(q,{width:"400px",data:{table:e,id:i}}).afterClosed().subscribe({next:r=>{console.log("val",r),this.getSMList()}})}editSM(e){this.dialog.open(E,{width:"50%",data:e}).afterClosed().subscribe({next:o=>{o&&this.getSMList()}})}toggleSM(e){e.status="Active"===e.status?"Inactive":"Active",this.service.updateSMStatus(e._id).subscribe({next:i=>{this.toastr.success(i.message)},error:i=>{console.log(i)}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(c.uw),t.Y36(v._W),t.Y36(Z))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-manage-sm"]],viewQuery:function(e,i){if(1&e&&(t.Gf(S.NW,5),t.Gf(N.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},decls:67,vars:7,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-wrap","d-flex","justify-content-between","align-items-center","p-4"],[1,"mat-h1"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E\")"],[1,"mb-0","breadcrumb"],[1,"breadcrumb-item"],["routerLink","/gm/dashboard"],["aria-current","page",1,"breadcrumb-item","active"],[1,"justify-content-between","align-items-center"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline"],["matInput",""],["value","0"],["value","1"],["value","2"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","",1,"table","table-striped","table-responsive",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","joinDate"],["matColumnDef","fName"],["matColumnDef","email"],["matColumnDef","mobno"],["matColumnDef","approvalstatus"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginatorRef",""],["mat-header-cell",""],["mat-cell",""],[1,"fw-bold","p-2","mb-0"],[3,"checked","change"],["mat-mini-fab","","color","success",3,"routerLink"],["aria-hidden","false","aria-label","Example home icon","fontIcon","visibility"],["mat-mini-fab","","color","primary",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","edit"],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["class","mat-row text-center",4,"matNoDataRow"],[1,"mat-row","text-center"],["colspan","4",1,"mat-cell"],["colspan","4",1,"mat-cell","text-center"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),t._uU(5,"Manage SM Login"),t.qZA()(),t.TgZ(6,"div")(7,"nav",4)(8,"ol",5)(9,"li",6)(10,"a",7),t._uU(11,"Home"),t.qZA()(),t.TgZ(12,"li",8),t._uU(13,"Manage SM Login"),t.qZA()()()()()(),t.TgZ(14,"mat-card")(15,"mat-card-header",9)(16,"mat-card-title")(17,"button",10),t.NdJ("click",function(){return i.addEditSM()}),t._uU(18,"Create Login"),t.qZA()(),t.TgZ(19,"mat-form-field",11)(20,"mat-label"),t._uU(21,"Select Status"),t.qZA(),t.TgZ(22,"mat-select",12)(23,"mat-option",13),t._uU(24,"Pending"),t.qZA(),t.TgZ(25,"mat-option",14),t._uU(26,"Accepted"),t.qZA(),t.TgZ(27,"mat-option",15),t._uU(28,"Rejected"),t.qZA()()(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Search"),t.qZA(),t.TgZ(32,"input",16,17),t.NdJ("keyup",function(r){return i.applyFilter(r)}),t.qZA()()(),t.TgZ(34,"mat-card-content")(35,"div",18)(36,"table",19),t.ynx(37,20),t.YNc(38,wt,2,0,"th",21),t.YNc(39,Et,2,1,"td",22),t.BQk(),t.ynx(40,23),t.YNc(41,It,2,0,"th",21),t.YNc(42,Yt,4,8,"td",22),t.BQk(),t.ynx(43,24),t.YNc(44,kt,2,0,"th",21),t.YNc(45,Lt,2,1,"td",22),t.BQk(),t.ynx(46,25),t.YNc(47,Qt,2,0,"th",21),t.YNc(48,Jt,2,1,"td",22),t.BQk(),t.ynx(49,26),t.YNc(50,Rt,2,0,"th",21),t.YNc(51,Bt,2,1,"td",22),t.BQk(),t.ynx(52,27),t.YNc(53,$t,2,0,"th",21),t.YNc(54,jt,3,7,"td",22),t.BQk(),t.ynx(55,28),t.YNc(56,Ot,2,0,"th",21),t.YNc(57,Ft,3,2,"td",22),t.BQk(),t.ynx(58,29),t.YNc(59,Gt,2,0,"th",21),t.YNc(60,Pt,10,2,"td",22),t.BQk(),t.YNc(61,zt,1,0,"tr",30),t.YNc(62,Wt,1,0,"tr",31),t.YNc(63,Vt,2,0,"ng-container",32),t.qZA(),t.YNc(64,Kt,4,0,"ng-container",32),t.qZA(),t._UZ(65,"mat-paginator",33,34),t.qZA()()()),2&e&&(t.xp6(36),t.Q6J("dataSource",i.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0!==i.dataSourceLength),t.xp6(1),t.Q6J("ngIf",0==i.dataSourceLength),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,te)))},directives:[T.yS,_.a8,_.dk,_.n5,f.lW,p.KE,p.hX,M.gD,b.ey,A.Nt,_.dn,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,x.Rr,f.zs,U.Hw,m.as,m.XQ,m.nj,m.Gk,h.O5,m.Ee,S.NW],pipes:[h.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:15%}@media screen and (max-width: 991.98px){mat-form-field[_ngcontent-%COMP%]{width:50%}.mat-card-header[_ngcontent-%COMP%]{flex-wrap:wrap}}"]}),a})();function ae(a,n){if(1&a&&(t.TgZ(0,"mat-option",17),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e.nameSM)}}function ie(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Select SM is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function ne(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Full Name is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function oe(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid email address "),t.qZA())}function re(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Email is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function se(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile Number is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function me(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile number is start only 7,8,9 "),t.qZA())}function le(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Password is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function de(a,n){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Password is minlength 8 letter "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}let I=(()=>{class a{constructor(e,i,o,r,d,g){this.service=e,this.http=i,this.formBuilder=o,this.dialogref=r,this.data=d,this.toastr=g,this.smList=[],this.createSA=this.formBuilder.group({nameSA:["",[s.kI.required,s.kI.pattern(/^[A-Za-z\s]*$/)]],mobileNumber:["",[s.kI.required,s.kI.pattern(/^((\\+91-?)|0)?[0-9]{10}$/)]],email:["",[s.kI.required,s.kI.email]],SM_Name:["",s.kI.required],password:["",[s.kI.required,s.kI.minLength(6),s.kI.maxLength(40)]]})}ngOnInit(){this.getSMList(),this.data&&this.createSA.patchValue(this.data)}getSMList(){this.http.get(u.N.apiUrl+"getAllSMunderGM").subscribe(e=>{if(this.smList=e.data.SMs,this.data){const i={id:this.data.SM_Id,nameGM:this.data.SM_Name},o=this.smList.find(r=>r.id===i.id);o?this.createSA.patchValue({SM_Name:o}):console.error("CEO user not found in the list")}},e=>console.log(e))}onSubmit(){if(this.submitted=!0,!this.createSA.invalid&&this.submitted)if(this.data){const i=this.createSA.value.SM_Name;(e=new FormData).append("SM_Id",i.id),e.append("SM_Name",i.nameSM),e.append("nameSA",this.createSA.value.nameSA),e.append("email",this.createSA.value.email),e.append("mobileNumber",this.createSA.value.mobileNumber),e.append("password",this.createSA.value.password);for(const o of e.entries())console.log(`${o[0]}, ${o[1]}`);this.service.updateSA(this.data._id,e).subscribe({next:o=>{400==o.error_code?this.toastr.success(o.message):200==o.error_code&&(this.toastr.success(o.message),this.dialogref.close(!0))},error:o=>{alert(o)}})}else{const i=this.createSA.value.SM_Name;var e;(e=new FormData).append("SM_Id",i.id),e.append("SM_Name",i.nameSM),e.append("nameSA",this.createSA.value.nameSA),e.append("email",this.createSA.value.email),e.append("mobileNumber",this.createSA.value.mobileNumber),e.append("password",this.createSA.value.password);for(const r of e.entries())console.log(`${r[0]}, ${r[1]}`);this.service.createSA(e).subscribe({next:r=>{400==r.error_code?this.toastr.success(r.message):200==r.error_code&&(this.toastr.success(r.message),this.dialogref.close(!0))},error:r=>{alert(r)}})}}onMobileInputChange(e){e.target.value=e.target.value.replace(/[^0-9]/g,""),e.target.value.length>10&&(e.target.value=e.target.value.slice(0,10))}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Z),t.Y36(C.eN),t.Y36(s.qu),t.Y36(c.so),t.Y36(c.WI),t.Y36(v._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-edit-sa"]],decls:44,vars:13,consts:[["mat-dialog-title",""],["action","","method","post",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"row"],[1,"col-md-6"],["appearance","outline"],["formControlName","SM_Name","matInput",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","outline",1,"example-full-width","mb-2","pt-1"],["type","text","matInput","","name","nameSA","id","nameSA","formControlName","nameSA","required",""],["type","email","matInput","","formControlName","email","placeholder","Enter Email"],["type","text","matInput","","formControlName","mobileNumber","pattern","[789][0-9]{9}","minlength","10","maxlength","10","placeholder","Enter Mobile Number",3,"input"],["type","text","matInput","","formControlName","password","minlength","8","maxlength","15","placeholder","Enter Password"],["mat-dialog-actions","",1,"justify-content-center"],["mat-button","","mat-raised-button","","color","warn","type","button",3,"mat-dialog-close"],["type","submit","mat-button","","mat-raised-button","","color","primary","cdkFocusInitial",""],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Select SM"),t.qZA(),t.TgZ(9,"mat-select",6),t.YNc(10,ae,2,2,"mat-option",7),t.qZA(),t.YNc(11,ie,4,0,"mat-error",8),t.qZA()(),t.TgZ(12,"div",4)(13,"mat-form-field",9)(14,"mat-label"),t._uU(15,"Full Name"),t.qZA(),t._UZ(16,"input",10),t.YNc(17,ne,4,0,"mat-error",8),t.qZA()(),t.TgZ(18,"div",4)(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Email"),t.qZA(),t._UZ(22,"input",11),t.YNc(23,oe,2,0,"mat-error",8),t.YNc(24,re,4,0,"mat-error",8),t.qZA()(),t.TgZ(25,"div",4)(26,"mat-form-field",9)(27,"mat-label"),t._uU(28,"Mobile Number"),t.qZA(),t.TgZ(29,"input",12),t.NdJ("input",function(r){return i.onMobileInputChange(r)}),t.qZA(),t.YNc(30,se,4,0,"mat-error",8),t.YNc(31,me,2,0,"mat-error",8),t.qZA()(),t.TgZ(32,"div",4)(33,"mat-form-field",9)(34,"mat-label"),t._uU(35,"Password"),t.qZA(),t._UZ(36,"input",13),t.YNc(37,le,4,0,"mat-error",8),t.YNc(38,de,4,0,"mat-error",8),t.qZA()()()(),t.TgZ(39,"div",14)(40,"button",15),t._uU(41,"Close"),t.qZA(),t.TgZ(42,"button",16),t._uU(43),t.qZA()()()),2&e&&(t.xp6(1),t.hij("",i.data?"Edit":"Add"," SA"),t.xp6(1),t.Q6J("formGroup",i.createSA),t.xp6(8),t.Q6J("ngForOf",i.smList),t.xp6(1),t.Q6J("ngIf",i.createSA.get("SM_Name").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.createSA.get("nameSA").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.createSA.get("email").hasError("email")&&!i.createSA.get("email").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createSA.get("email").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.createSA.get("mobileNumber").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createSA.get("mobileNumber").hasError("pattern")),t.xp6(6),t.Q6J("ngIf",i.createSA.get("password").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createSA.get("password").hasError("minlength")),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(3),t.Oqu(i.data?"Update":"Save"))},directives:[c.uh,s._Y,s.JL,s.sg,c.xY,p.KE,p.hX,M.gD,s.JJ,s.u,h.sg,b.ey,h.O5,p.TO,A.Nt,s.Fj,s.Q7,s.c5,s.wO,s.nD,c.H8,f.lW,c.ZT],styles:[""]}),a})();function ce(a,n){1&a&&(t.TgZ(0,"th",36),t._uU(1," Sr. No. "),t.qZA())}function ue(a,n){if(1&a&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&a){const e=n.index;t.oxw();const i=t.MAs(69);t.xp6(1),t.hij(" ",i.pageIndex*i.pageSize+(e+1)," ")}}function pe(a,n){1&a&&(t.TgZ(0,"th",36),t._uU(1," Create Date "),t.qZA())}function ge(a,n){if(1&a&&(t.TgZ(0,"td",37),t._uU(1),t.ALo(2,"date"),t.ALo(3,"date"),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.AsE(" ",t.xi3(2,2,e.createdAt,"dd-MM-yyyy ")," | ",t.xi3(3,5,e.createdAt," hh:mm:ss a ")," ")}}function _e(a,n){1&a&&(t.TgZ(0,"th",36),t._uU(1," SM Name "),t.qZA())}function he(a,n){if(1&a&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.SM_Name," ")}}function fe(a,n){1&a&&(t.TgZ(0,"th",36),t._uU(1," Full Name "),t.qZA())}function Ze(a,n){if(1&a&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.nameSA," ")}}function Se(a,n){1&a&&(t.TgZ(0,"th",36),t._uU(1," Email ID "),t.qZA())}function ve(a,n){if(1&a&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.email," ")}}function Ae(a,n){1&a&&(t.TgZ(0,"th",36),t._uU(1," Mobile No. "),t.qZA())}function Te(a,n){if(1&a&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.hij(" ",e.mobileNumber," ")}}function Me(a,n){1&a&&(t.TgZ(0,"th",36),t._uU(1,"Approval Status "),t.qZA())}function be(a,n){if(1&a&&(t.TgZ(0,"td",37)(1,"p",38),t._uU(2),t.qZA()()),2&a){const e=n.$implicit;t.xp6(1),t.ekj("text-primary","Pending"===e.ApprovalStatus)("text-success","Accepted"===e.ApprovalStatus)("text-danger","Rejected"===e.ApprovalStatus),t.xp6(1),t.hij(" ",e.ApprovalStatus," ")}}function Ce(a,n){1&a&&(t.TgZ(0,"th",36),t._uU(1," Status "),t.qZA())}function xe(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",37)(1,"mat-slide-toggle",39),t.NdJ("change",function(){const r=t.CHM(e).$implicit;return t.oxw().toggleSA(r)}),t._uU(2),t.qZA()()}if(2&a){const e=n.$implicit;t.xp6(1),t.Q6J("checked","Active"===e.status),t.xp6(1),t.hij(" ","Active"===e.status?"Active":"Inactive"," ")}}function Ue(a,n){1&a&&(t.TgZ(0,"th",36),t._uU(1," Action "),t.qZA())}const Ne=function(){return["/gm/sa_bill_list"]};function qe(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"td",37)(1,"a",40)(2,"mat-icon",41),t._uU(3,"visibility"),t.qZA()(),t.TgZ(4,"button",42),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().editSA(r)}),t.TgZ(5,"mat-icon",43),t._uU(6,"edit"),t.qZA()(),t.TgZ(7,"button",44),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().deleteSA("gm_sa_Table",r._id)}),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA()()()}2&a&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,Ne)))}function De(a,n){1&a&&t._UZ(0,"tr",45)}function ye(a,n){1&a&&t._UZ(0,"tr",46)}function we(a,n){if(1&a&&(t.TgZ(0,"tr",48)(1,"td",49),t._uU(2),t.qZA()()),2&a){t.oxw(2);const e=t.MAs(33);t.xp6(2),t.hij(' No data matching the filter "',e.value,'" ')}}function Ee(a,n){1&a&&(t.ynx(0),t.YNc(1,we,3,1,"tr",47),t.BQk())}function Ie(a,n){1&a&&(t.ynx(0)(1,48),t.TgZ(2,"div",50),t._uU(3," No SM found for this CEO "),t.qZA(),t.BQk()())}const Ye=function(){return[10]};let ke=(()=>{class a{constructor(e,i,o){this.dialog=e,this.toastr=i,this.service=o,this.message="",this.displayedColumns=["srNo","joinDate","smName","fName","email","mobno","approvalstatus","status","action"]}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}ngOnInit(){this.getSAList()}addEditSA(){this.dialog.open(I,{width:"50%"}).afterClosed().subscribe({next:i=>{this.getSAList()}})}getSAList(){this.service.getSAList().subscribe({next:e=>{console.log("res",e),200===e.error_code?(this.dataSource=new m.by(e.saRecords.reverse()),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator):404===e.error_code&&(this.SAList=[],this.dataSource=new m.by(this.SAList),this.dataSource.paginator=this.paginator,this.dataSourceLength=this.dataSource.data.length)},error:e=>{console.log(e)}})}deleteSA(e,i){this.dialog.open(q,{width:"400px",data:{table:e,id:i}}).afterClosed().subscribe({next:r=>{console.log("val",r),this.getSAList()}})}editSA(e){this.dialog.open(I,{width:"50%",data:e}).afterClosed().subscribe({next:o=>{this.getSAList()}})}toggleSA(e){e.status="Active"===e.status?"Inactive":"Active",this.service.updateSAStatus(e._id).subscribe({next:i=>{this.toastr.success(i.message)},error:i=>{console.log(i)}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(c.uw),t.Y36(v._W),t.Y36(Z))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-manage-sa"]],viewQuery:function(e,i){if(1&e&&(t.Gf(S.NW,5),t.Gf(N.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},decls:70,vars:7,consts:[[1,"row"],[1,"col-md-12"],[1,"flex-wrap","d-flex","justify-content-between","align-items-center","p-4"],[1,"mat-h1"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E\")"],[1,"mb-0","breadcrumb"],[1,"breadcrumb-item"],["routerLink","/gm/dashboard"],["aria-current","page",1,"breadcrumb-item","active"],[1,"justify-content-between","align-items-center"],["mat-raised-button","","color","primary",3,"click"],["appearance","outline"],["matInput",""],["value","0"],["value","1"],["value","2"],["matInput","","placeholder","Ex. ium",3,"keyup"],["input",""],[1,"table-responsive"],["mat-table","",1,"table","table-striped","table-responsive",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","joinDate"],["matColumnDef","smName"],["matColumnDef","fName"],["matColumnDef","email"],["matColumnDef","mobno"],["matColumnDef","approvalstatus"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["aria-label","Select page of periodic elements",3,"pageSizeOptions"],["paginatorRef",""],["mat-header-cell",""],["mat-cell",""],[1,"fw-bold","p-2","mb-0"],[3,"checked","change"],["mat-mini-fab","","color","success",3,"routerLink"],["aria-hidden","false","aria-label","Example home icon","fontIcon","visibility"],["mat-mini-fab","","color","primary",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","edit"],["mat-mini-fab","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["class","mat-row text-center",4,"matNoDataRow"],[1,"mat-row","text-center"],["colspan","9",1,"mat-cell"],["colspan","4",1,"mat-cell","text-center"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),t._uU(5,"Manage SA Login"),t.qZA()(),t.TgZ(6,"div")(7,"nav",4)(8,"ol",5)(9,"li",6)(10,"a",7),t._uU(11,"Home"),t.qZA()(),t.TgZ(12,"li",8),t._uU(13,"Manage SA Login"),t.qZA()()()()()(),t.TgZ(14,"mat-card")(15,"mat-card-header",9)(16,"mat-card-title")(17,"button",10),t.NdJ("click",function(){return i.addEditSA()}),t._uU(18,"Create Login"),t.qZA()(),t.TgZ(19,"mat-form-field",11)(20,"mat-label"),t._uU(21,"Select Status"),t.qZA(),t.TgZ(22,"mat-select",12)(23,"mat-option",13),t._uU(24,"Pending"),t.qZA(),t.TgZ(25,"mat-option",14),t._uU(26,"Accepted"),t.qZA(),t.TgZ(27,"mat-option",15),t._uU(28,"Rejected"),t.qZA()()(),t.TgZ(29,"mat-form-field")(30,"mat-label"),t._uU(31,"Search"),t.qZA(),t.TgZ(32,"input",16,17),t.NdJ("keyup",function(r){return i.applyFilter(r)}),t.qZA()()(),t.TgZ(34,"mat-card-content")(35,"div",18)(36,"table",19),t.ynx(37,20),t.YNc(38,ce,2,0,"th",21),t.YNc(39,ue,2,1,"td",22),t.BQk(),t.ynx(40,23),t.YNc(41,pe,2,0,"th",21),t.YNc(42,ge,4,8,"td",22),t.BQk(),t.ynx(43,24),t.YNc(44,_e,2,0,"th",21),t.YNc(45,he,2,1,"td",22),t.BQk(),t.ynx(46,25),t.YNc(47,fe,2,0,"th",21),t.YNc(48,Ze,2,1,"td",22),t.BQk(),t.ynx(49,26),t.YNc(50,Se,2,0,"th",21),t.YNc(51,ve,2,1,"td",22),t.BQk(),t.ynx(52,27),t.YNc(53,Ae,2,0,"th",21),t.YNc(54,Te,2,1,"td",22),t.BQk(),t.ynx(55,28),t.YNc(56,Me,2,0,"th",21),t.YNc(57,be,3,7,"td",22),t.BQk(),t.ynx(58,29),t.YNc(59,Ce,2,0,"th",21),t.YNc(60,xe,3,2,"td",22),t.BQk(),t.ynx(61,30),t.YNc(62,Ue,2,0,"th",21),t.YNc(63,qe,10,2,"td",22),t.BQk(),t.YNc(64,De,1,0,"tr",31),t.YNc(65,ye,1,0,"tr",32),t.YNc(66,Ee,2,0,"ng-container",33),t.qZA(),t.YNc(67,Ie,4,0,"ng-container",33),t.qZA(),t._UZ(68,"mat-paginator",34,35),t.qZA()()()),2&e&&(t.xp6(36),t.Q6J("dataSource",i.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",0!==i.dataSourceLength),t.xp6(1),t.Q6J("ngIf",0==i.dataSourceLength),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,Ye)))},directives:[T.yS,_.a8,_.dk,_.n5,f.lW,p.KE,p.hX,M.gD,b.ey,A.Nt,_.dn,m.BZ,m.w1,m.fO,m.ge,m.Dz,m.ev,x.Rr,f.zs,U.Hw,m.as,m.XQ,m.nj,m.Gk,h.O5,m.Ee,S.NW],pipes:[h.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:15%}@media screen and (max-width: 991.98px){mat-form-field[_ngcontent-%COMP%]{width:50%}.mat-card-header[_ngcontent-%COMP%]{flex-wrap:wrap}}"]}),a})();var Le=l(9148),Qe=l(8628),Je=l(8144),Re=l(4603),Be=l(8860),$e=l(6896),je=l(1963),Y=l(1900),Oe=l(347),Fe=l(50),Ge=l(9012),He=l(1423);const Pe=[{path:"dashboard",component:k,data:{routeName:"dashboard",pageTitle:"GM Dashboard",isBanner:!0}},{path:"manage_approval",component:Le.s,data:{routeName:"manage_approval",pageTitle:"Manage Approval",isBanner:!1}},{path:"manage_dsm",component:bt,data:{routeName:"manage_dsm",pageTitle:"Manage DSM",isBanner:!1}},{path:"manage_sm",component:ee,data:{routeName:"manage_sm",pageTitle:"Manage SM",isBanner:!1}},{path:"manage_sa",component:ke,data:{routeName:"manage_sa",pageTitle:"Manage SA",isBanner:!1}},{path:"dsmList",component:Re.u,data:{routName:"dsmList",pageTitle:"DSM List",isBanner:!1}},{path:"sm_list",component:Qe.T,data:{routeName:"sm_list",pageTitle:"SM List",isBanner:!1}},{path:"user_list",component:Je.C,data:{routeName:"user_list",pageTitle:"User List",isBanner:!1}},{path:"bill_management",component:Be.N,data:{routeName:"bill_management",pageTitle:"Bill Management ",isBanner:!1}},{path:"user_management/:id",component:Y.T,data:{routName:"user_management",pageTitle:"User Management",isBanner:!1}},{path:"gst_report",component:$e.N,data:{routeName:"gst_report",pageTitle:"GST Report",isBanner:!1}},{path:"tds_report",component:je.z,data:{routeName:"tds_report",pageTitle:"TDS Report",isBanner:!1}},{path:"user_level/:id",component:Y.T,data:{routeName:"user_level",pageTitle:"Level User List",isBanner:!1}},{path:"manage_level",component:Oe.E,data:{routeName:"manage_level",pageTitle:"Manage Level",isBanner:!1}},{path:"sa_bill_list",component:He.p,data:{routeName:"sa_bill_list",pageTitle:"Bill List",isBanner:!1}},{path:"manage_voucher",component:Fe.o,data:{routeName:"manage_voucher",pageTitle:"Manage Voucher",isBanner:!1}},{path:"bill_list",component:Ge.E,data:{routeName:"bill_list",pageTitle:"Bill Management ",isBanner:!1}}];let ze=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[T.Bz.forChild(Pe)],T.Bz]}),a})(),We=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[h.ez,ze,m.p0,_.QW,A.c,U.Ps,x.rP,S.TU,f.ot,p.lN,s.UX,M.LD,c.Is,y.m]]}),a})()}}]);